{
  "url": "https://api.github.com/repos/alibaba/weex/issues/1367",
  "repository_url": "https://api.github.com/repos/alibaba/weex",
  "labels_url": "https://api.github.com/repos/alibaba/weex/issues/1367/labels{/name}",
  "comments_url": "https://api.github.com/repos/alibaba/weex/issues/1367/comments",
  "events_url": "https://api.github.com/repos/alibaba/weex/issues/1367/events",
  "html_url": "https://github.com/alibaba/weex/issues/1367",
  "id": 181942264,
  "number": 1367,
  "title": "@ali/weex-html5 0.3.5版本  加载本地bundle中的图片失败",
  "user": {
    "login": "namedlock",
    "id": 3077786,
    "avatar_url": "https://avatars2.githubusercontent.com/u/3077786?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/namedlock",
    "html_url": "https://github.com/namedlock",
    "followers_url": "https://api.github.com/users/namedlock/followers",
    "following_url": "https://api.github.com/users/namedlock/following{/other_user}",
    "gists_url": "https://api.github.com/users/namedlock/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/namedlock/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/namedlock/subscriptions",
    "organizations_url": "https://api.github.com/users/namedlock/orgs",
    "repos_url": "https://api.github.com/users/namedlock/repos",
    "events_url": "https://api.github.com/users/namedlock/events{/privacy}",
    "received_events_url": "https://api.github.com/users/namedlock/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "Jinjiang",
    "id": 206848,
    "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Jinjiang",
    "html_url": "https://github.com/Jinjiang",
    "followers_url": "https://api.github.com/users/Jinjiang/followers",
    "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
    "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
    "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
    "repos_url": "https://api.github.com/users/Jinjiang/repos",
    "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "Jinjiang",
      "id": 206848,
      "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Jinjiang",
      "html_url": "https://github.com/Jinjiang",
      "followers_url": "https://api.github.com/users/Jinjiang/followers",
      "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
      "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
      "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
      "repos_url": "https://api.github.com/users/Jinjiang/repos",
      "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": [
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/252542505",
      "html_url": "https://github.com/alibaba/weex/issues/1367#issuecomment-252542505",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1367",
      "id": 252542505,
      "user": {
        "login": "namedlock",
        "id": 3077786,
        "avatar_url": "https://avatars2.githubusercontent.com/u/3077786?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/namedlock",
        "html_url": "https://github.com/namedlock",
        "followers_url": "https://api.github.com/users/namedlock/followers",
        "following_url": "https://api.github.com/users/namedlock/following{/other_user}",
        "gists_url": "https://api.github.com/users/namedlock/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/namedlock/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/namedlock/subscriptions",
        "organizations_url": "https://api.github.com/users/namedlock/orgs",
        "repos_url": "https://api.github.com/users/namedlock/repos",
        "events_url": "https://api.github.com/users/namedlock/events{/privacy}",
        "received_events_url": "https://api.github.com/users/namedlock/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-10T06:07:28Z",
      "updated_at": "2016-10-10T06:07:28Z",
      "body": "chrome报错信息：\nGET file://gw.alicdn.com/tps/i2/TB1DpsmMpXXXXabaXXX20ySQVXX-512-512.png_400x400.jpg net::ERR_FILE_NOT_FOUND\n"
    }
  ],
  "created_at": "2016-10-10T06:06:03Z",
  "updated_at": "2016-10-25T06:39:18Z",
  "closed_at": "2016-10-25T06:39:18Z",
  "body": "不通过http server，直接在chrome中预览静态html文件。加载bundle中的图片失败。\n图片格式分别为：//开头和http://开头都会加载失败。\n\n以下代码中的图片url为：\n\n```\nhttp://gw.alicdn.com/tps/i2/TB1DpsmMpXXXXabaXXX20ySQVXX-512-512.png_400x400.jpg\n```\n\n依赖：\n1. \"js-base64\": \"^2.1.9\",\n2. \"@ali/weex-html5\": \"0.3.5\"\n\nbundle代码已经转换为base64编码。静态文件内容如下：\n\n```\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <title>Weex HTML5</title>\n  <meta name=\"apple-mobile-web-app-capable\" content=\"yes\" />\n  <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\" />\n  <meta name=\"apple-touch-fullscreen\" content=\"yes\" />\n  <meta name=\"format-detection\" content=\"telephone=no, email=no\" />\n  <style>\n    html, body, #weex {\n      width: 100%;\n      height: 100%;\n    }\n  </style>\n  <script src=\"./node_modules/@ali/weex-html5/build/weex.js\"></script>\n  <script src=\"./node_modules/js-base64/base64.js\"></script>\n</head>\n<body>\n  <div id=\"weex\"></div>\n  <script>\n\n\n  var bundleContent = 'LyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcAovKioqKioqLyAJLy8gVGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJdmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTsKCi8qKioqKiovIAkvLyBUaGUgcmVxdWlyZSBmdW5jdGlvbgovKioqKioqLyAJZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkgewoKLyoqKioqKi8gCQkvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGUKLyoqKioqKi8gCQlpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkKLyoqKioqKi8gCQkJcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7CgovKioqKioqLyAJCS8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpCi8qKioqKiovIAkJdmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0gewovKioqKioqLyAJCQlleHBvcnRzOiB7fSwKLyoqKioqKi8gCQkJaWQ6IG1vZHVsZUlkLAovKioqKioqLyAJCQlsb2FkZWQ6IGZhbHNlCi8qKioqKiovIAkJfTsKCi8qKioqKiovIAkJLy8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uCi8qKioqKiovIAkJbW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7CgovKioqKioqLyAJCS8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWQKLyoqKioqKi8gCQltb2R1bGUubG9hZGVkID0gdHJ1ZTsKCi8qKioqKiovIAkJLy8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGUKLyoqKioqKi8gCQlyZXR1cm4gbW9kdWxlLmV4cG9ydHM7Ci8qKioqKiovIAl9CgoKLyoqKioqKi8gCS8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzOwoKLyoqKioqKi8gCS8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzOwoKLyoqKioqKi8gCS8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSAiIjsKCi8qKioqKiovIAkvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHMKLyoqKioqKi8gCXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApOwovKioqKioqLyB9KQovKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKioqKioqLyAoWwovKiAwICovCi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykgewoKCTtfX3dlZXhfZGVmaW5lX18oIkB3ZWV4LWNvbXBvbmVudC8xYWUyYWE0Yzg3NDllMmY1NmUyMDYxZGRhYzcyNDdhYiIsIFtdLCBmdW5jdGlvbihfX3dlZXhfcmVxdWlyZV9fLCBfX3dlZXhfZXhwb3J0c19fLCBfX3dlZXhfbW9kdWxlX18pewoKCTsKCSAgX193ZWV4X21vZHVsZV9fLmV4cG9ydHMgPSB7CgkgICAgZGF0YTogZnVuY3Rpb24gKCkge3JldHVybiB7CgkgICAgICBjdEhlaWdodDogODAwLAoJICAgICAgaW1nOiAnaHR0cDovL2d3LmFsaWNkbi5jb20vdHBzL2kyL1RCMURwc21NcFhYWFhhYmFYWFgyMHlTUVZYWC01MTItNTEyLnBuZ180MDB4NDAwLmpwZycKCSAgICB9fSwKCSAgICByZWFkeTogZnVuY3Rpb24gKCkgewoJICAgICAgdGhpcy5jdEhlaWdodCA9IHRoaXMuJGdldENvbmZpZygpLmVudi5kZXZpY2VIZWlnaHQKCSAgICB9CgkgIH0KCgk7X193ZWV4X21vZHVsZV9fLmV4cG9ydHMudGVtcGxhdGUgPSBfX3dlZXhfbW9kdWxlX18uZXhwb3J0cy50ZW1wbGF0ZSB8fCB7fQoJO09iamVjdC5hc3NpZ24oX193ZWV4X21vZHVsZV9fLmV4cG9ydHMudGVtcGxhdGUsIHsKCSAgInR5cGUiOiAiZGl2IiwKCSAgImNsYXNzTGlzdCI6IFsKCSAgICAiY3QiCgkgIF0sCgkgICJzdHlsZSI6IHsKCSAgICAiaGVpZ2h0IjogZnVuY3Rpb24gKCkge3JldHVybiB0aGlzLmN0SGVpZ2h0fQoJICB9LAoJICAiY2hpbGRyZW4iOiBbCgkgICAgewoJICAgICAgInR5cGUiOiAiaW1hZ2UiLAoJICAgICAgImNsYXNzTGlzdCI6IFsKCSAgICAgICAgImltZyIKCSAgICAgIF0sCgkgICAgICAic3R5bGUiOiB7CgkgICAgICAgICJ3aWR0aCI6IDQwMCwKCSAgICAgICAgImhlaWdodCI6IDQwMAoJICAgICAgfSwKCSAgICAgICJhdHRyIjogewoJICAgICAgICAic3JjIjogZnVuY3Rpb24gKCkge3JldHVybiB0aGlzLmltZ30KCSAgICAgIH0KCSAgICB9LAoJICAgIHsKCSAgICAgICJ0eXBlIjogInRleHQiLAoJICAgICAgInN0eWxlIjogewoJICAgICAgICAiZm9udFNpemUiOiA0MgoJICAgICAgfSwKCSAgICAgICJhdHRyIjogewoJICAgICAgICAidmFsdWUiOiAiSGVsbG8gd29ybGQhIgoJICAgICAgfQoJICAgIH0KCSAgXQoJfSkKCTtfX3dlZXhfbW9kdWxlX18uZXhwb3J0cy5zdHlsZSA9IF9fd2VleF9tb2R1bGVfXy5leHBvcnRzLnN0eWxlIHx8IHt9Cgk7T2JqZWN0LmFzc2lnbihfX3dlZXhfbW9kdWxlX18uZXhwb3J0cy5zdHlsZSwgewoJICAiY3QiOiB7CgkgICAgIndpZHRoIjogNzUwLAoJICAgICJhbGlnbkl0ZW1zIjogImNlbnRlciIsCgkgICAgImp1c3RpZnlDb250ZW50IjogImNlbnRlciIKCSAgfSwKCSAgImltZyI6IHsKCSAgICAibWFyZ2luQm90dG9tIjogMjAKCSAgfQoJfSkKCX0pCgk7X193ZWV4X2Jvb3RzdHJhcF9fKCJAd2VleC1jb21wb25lbnQvMWFlMmFhNGM4NzQ5ZTJmNTZlMjA2MWRkYWM3MjQ3YWIiLCB7CgkgICJ0cmFuc2Zvcm1lclZlcnNpb24iOiAiMC4zLjEiCgl9LHVuZGVmaW5lZCkKCi8qKiovIH0KLyoqKioqKi8gXSk7';\n  (function () {\n\n    var loader = 'source'\n\n    window.weex.init({\n      appId: location.href,\n      loader: loader,\n      source: Base64.decode(bundleContent),\n      rootId: 'weex'\n    })\n  })();\n  </script>\n</body>\n</html>\n\n```\n"
}
