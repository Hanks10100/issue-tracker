{
  "url": "https://api.github.com/repos/alibaba/weex/issues/1791",
  "repository_url": "https://api.github.com/repos/alibaba/weex",
  "labels_url": "https://api.github.com/repos/alibaba/weex/issues/1791/labels{/name}",
  "comments_url": "https://api.github.com/repos/alibaba/weex/issues/1791/comments",
  "events_url": "https://api.github.com/repos/alibaba/weex/issues/1791/events",
  "html_url": "https://github.com/alibaba/weex/issues/1791",
  "id": 192766744,
  "number": 1791,
  "title": "[Android] 复用组件在repeat 中的onclick事件无法响应？",
  "user": {
    "login": "cleanmage",
    "id": 11926101,
    "avatar_url": "https://avatars3.githubusercontent.com/u/11926101?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cleanmage",
    "html_url": "https://github.com/cleanmage",
    "followers_url": "https://api.github.com/users/cleanmage/followers",
    "following_url": "https://api.github.com/users/cleanmage/following{/other_user}",
    "gists_url": "https://api.github.com/users/cleanmage/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cleanmage/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cleanmage/subscriptions",
    "organizations_url": "https://api.github.com/users/cleanmage/orgs",
    "repos_url": "https://api.github.com/users/cleanmage/repos",
    "events_url": "https://api.github.com/users/cleanmage/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cleanmage/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 359381236,
      "url": "https://api.github.com/repos/alibaba/weex/labels/android",
      "name": "android",
      "color": "f9d0c4",
      "default": false
    },
    {
      "id": 483936402,
      "url": "https://api.github.com/repos/alibaba/weex/labels/need%20repro",
      "name": "need repro",
      "color": "e99695",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": [
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/264353495",
      "html_url": "https://github.com/alibaba/weex/issues/1791#issuecomment-264353495",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1791",
      "id": 264353495,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-12-02T02:03:18Z",
      "updated_at": "2016-12-02T02:03:18Z",
      "body": "有劳提供一个可复现的代码作为我们排查的例子吧\r\n谢谢"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/264392892",
      "html_url": "https://github.com/alibaba/weex/issues/1791#issuecomment-264392892",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1791",
      "id": 264392892,
      "user": {
        "login": "cleanmage",
        "id": 11926101,
        "avatar_url": "https://avatars3.githubusercontent.com/u/11926101?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cleanmage",
        "html_url": "https://github.com/cleanmage",
        "followers_url": "https://api.github.com/users/cleanmage/followers",
        "following_url": "https://api.github.com/users/cleanmage/following{/other_user}",
        "gists_url": "https://api.github.com/users/cleanmage/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cleanmage/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cleanmage/subscriptions",
        "organizations_url": "https://api.github.com/users/cleanmage/orgs",
        "repos_url": "https://api.github.com/users/cleanmage/repos",
        "events_url": "https://api.github.com/users/cleanmage/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cleanmage/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-12-02T07:40:00Z",
      "updated_at": "2016-12-02T07:55:47Z",
      "body": "///demo.we\r\n```\r\n<template>\r\n    <scroller>\r\n        <div repeat=\"{{list}}\" style=\"width: 750; height: 100;justify-content: center\" onclick=\"itemclick($index)\">\r\n            <text>{{name}}</text>\r\n            <text>{{price}}</text>\r\n        </div>\r\n        <!--<foo repeat=\"{{list}}\" name=\"{{name}}\" price=\"{{price}}\" style=\"width: 750; height: 100;justify-content: center\"-->\r\n        <!--onclick=\"itemclick($index)\"></foo>-->\r\n    </scroller>\r\n</template>\r\n\r\n<script>\r\n    var basemodule = require('@weex-module/event');\r\n    module.exports = {\r\n        data: {\r\n            list: [\r\n                {name: \"Mike\", price: \"25\"},\r\n                {name: \"Alice\", price: \"25\"},\r\n                {name: \"Sophia\", price: \"25\"},\r\n                {name: \"Balack\", price: \"25\"},\r\n                {name: \"Drogba\", price: \"25\"}\r\n            ]\r\n        },\r\n        methods: {\r\n            itemclick: function (index) {\r\n                basemodule.alert(index, function (resp) {\r\n                    nativeLog(\"xiaoyifu\", \"result------\" + resp.result);\r\n                });\r\n            }\r\n        }\r\n    }\r\n</script>\r\n```\r\n\r\n///foo.we\r\n```\r\n<template>\r\n    <div>\r\n        <text>{{name}}</text>\r\n        <text>{{price}}</text>\r\n    </div>\r\n</template>\r\n<script>\r\n    module.exports = {\r\n        data: {\r\n            name: '',\r\n            price: ''\r\n        },\r\n        methods: {\r\n            setTitle: function (t) {\r\n                this.name = t\r\n            },\r\n            sendToParent: function () {\r\n                this.$dispatch(\"notify\",\"hello\")\r\n            }\r\n        },\r\n        created:function(){\r\n            this.$on(\"parentCall\",function(e){\r\n                this.name = e.detail;\r\n            })\r\n        }\r\n    }\r\n</script>\r\n```\r\n\r\n如果重复渲染的是div部分，点击对应的每个item时，会调用底层的Toast方法，提示对应的点击位置；但是如果使用的是自己定义的复用组件foo(demo.we里被屏蔽部分)，无法响应点击事件。\r\n\r\n是否是复用组件定义错误呢？"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/265669640",
      "html_url": "https://github.com/alibaba/weex/issues/1791#issuecomment-265669640",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1791",
      "id": 265669640,
      "user": {
        "login": "cleanmage",
        "id": 11926101,
        "avatar_url": "https://avatars3.githubusercontent.com/u/11926101?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cleanmage",
        "html_url": "https://github.com/cleanmage",
        "followers_url": "https://api.github.com/users/cleanmage/followers",
        "following_url": "https://api.github.com/users/cleanmage/following{/other_user}",
        "gists_url": "https://api.github.com/users/cleanmage/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cleanmage/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cleanmage/subscriptions",
        "organizations_url": "https://api.github.com/users/cleanmage/orgs",
        "repos_url": "https://api.github.com/users/cleanmage/repos",
        "events_url": "https://api.github.com/users/cleanmage/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cleanmage/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-12-08T07:12:13Z",
      "updated_at": "2016-12-08T07:12:13Z",
      "body": "在最新的0.8.0.2上也存在这个问题。若能得空，可否提供一下相关的帮助呢？ @Jinjiang "
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/267273107",
      "html_url": "https://github.com/alibaba/weex/issues/1791#issuecomment-267273107",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1791",
      "id": 267273107,
      "user": {
        "login": "yuanzx",
        "id": 1204035,
        "avatar_url": "https://avatars1.githubusercontent.com/u/1204035?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yuanzx",
        "html_url": "https://github.com/yuanzx",
        "followers_url": "https://api.github.com/users/yuanzx/followers",
        "following_url": "https://api.github.com/users/yuanzx/following{/other_user}",
        "gists_url": "https://api.github.com/users/yuanzx/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/yuanzx/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yuanzx/subscriptions",
        "organizations_url": "https://api.github.com/users/yuanzx/orgs",
        "repos_url": "https://api.github.com/users/yuanzx/repos",
        "events_url": "https://api.github.com/users/yuanzx/events{/privacy}",
        "received_events_url": "https://api.github.com/users/yuanzx/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-12-15T08:57:55Z",
      "updated_at": "2016-12-15T08:57:55Z",
      "body": "应该是自定义组件的事件inline赋值的bug，只有weex原生的可以这样写"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/269429785",
      "html_url": "https://github.com/alibaba/weex/issues/1791#issuecomment-269429785",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1791",
      "id": 269429785,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-12-28T05:51:50Z",
      "updated_at": "2016-12-28T05:51:50Z",
      "body": "和 #1624 重复了，我们收敛到那边继续讨论吧，感谢理解和支持"
    }
  ],
  "created_at": "2016-12-01T06:43:29Z",
  "updated_at": "2016-12-28T05:51:50Z",
  "closed_at": "2016-12-28T05:51:50Z",
  "body": "在自己定义的复用组件上使用repeat来渲染数组数据时，为每个组件定义的的onclick事件都不能正常响应，而且对应的索引值无法拿到；但是如果替换为text组件，又能正常响应点击事件\r\n"
}
