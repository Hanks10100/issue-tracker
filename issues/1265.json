{
  "url": "https://api.github.com/repos/alibaba/weex/issues/1265",
  "repository_url": "https://api.github.com/repos/alibaba/weex",
  "labels_url": "https://api.github.com/repos/alibaba/weex/issues/1265/labels{/name}",
  "comments_url": "https://api.github.com/repos/alibaba/weex/issues/1265/comments",
  "events_url": "https://api.github.com/repos/alibaba/weex/issues/1265/events",
  "html_url": "https://github.com/alibaba/weex/issues/1265",
  "id": 178022439,
  "number": 1265,
  "title": "Android端，weex界面不显示，apk程序正常跑？-已解决",
  "user": {
    "login": "Hades-li",
    "id": 12124478,
    "avatar_url": "https://avatars1.githubusercontent.com/u/12124478?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Hades-li",
    "html_url": "https://github.com/Hades-li",
    "followers_url": "https://api.github.com/users/Hades-li/followers",
    "following_url": "https://api.github.com/users/Hades-li/following{/other_user}",
    "gists_url": "https://api.github.com/users/Hades-li/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Hades-li/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Hades-li/subscriptions",
    "organizations_url": "https://api.github.com/users/Hades-li/orgs",
    "repos_url": "https://api.github.com/users/Hades-li/repos",
    "events_url": "https://api.github.com/users/Hades-li/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Hades-li/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "sospartan",
    "id": 115201,
    "avatar_url": "https://avatars0.githubusercontent.com/u/115201?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sospartan",
    "html_url": "https://github.com/sospartan",
    "followers_url": "https://api.github.com/users/sospartan/followers",
    "following_url": "https://api.github.com/users/sospartan/following{/other_user}",
    "gists_url": "https://api.github.com/users/sospartan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sospartan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sospartan/subscriptions",
    "organizations_url": "https://api.github.com/users/sospartan/orgs",
    "repos_url": "https://api.github.com/users/sospartan/repos",
    "events_url": "https://api.github.com/users/sospartan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sospartan/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "sospartan",
      "id": 115201,
      "avatar_url": "https://avatars0.githubusercontent.com/u/115201?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sospartan",
      "html_url": "https://github.com/sospartan",
      "followers_url": "https://api.github.com/users/sospartan/followers",
      "following_url": "https://api.github.com/users/sospartan/following{/other_user}",
      "gists_url": "https://api.github.com/users/sospartan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sospartan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sospartan/subscriptions",
      "organizations_url": "https://api.github.com/users/sospartan/orgs",
      "repos_url": "https://api.github.com/users/sospartan/repos",
      "events_url": "https://api.github.com/users/sospartan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sospartan/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": [],
  "created_at": "2016-09-20T10:24:49Z",
  "updated_at": "2016-10-24T03:21:30Z",
  "closed_at": "2016-10-24T03:21:30Z",
  "body": "这个问题，其实已经基本解决，但主要是像大神求证原因而已。\n\n---\n\n环境：win7 andoid studio2.2\n新建一个android项目。然后按照https://vczero.github.io/weex-learning/android/003_HelloWorldBuildInWeex.html\n中一样将代码打好，然后执行，结果weex代码初始化失败。报如下错误：\n`ReferenceError: __weex_define__ is not defined`\n**这个问题，是因为在assets文件夹中有main.js文件造成。去掉或者改名即可。原因未知。**\n\n---\n\n不过如果你在we代码源文件中采用了setTimeout()的函数，你还会报如下错误：\n`ReportException :(weex):2975: TypeError: Object [object Object] has no method 'setTimeout'`\n当然这个问题并不是人人都会发生，经过反复验证最后得出的结论和android SDK版本有关系。其实也就是build.gradle的代码配置，如下：\n\n```\napply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 24\n    buildToolsVersion \"24.0.2\"\n    defaultConfig {\n        applicationId \"com.example.wxcity\"\n        minSdkVersion 19\n        targetSdkVersion 24\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        ndk {\n            abiFilters \"x86\"\n            abiFilters \"armeabi\"\n        }\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support:appcompat-v7:24.2.1'\n    compile 'com.android.support:recyclerview-v7:24.2.1'\n    compile 'com.android.support:support-v4:24.2.1'\n    compile 'com.alibaba:fastjson:1.1.45'\n    compile 'com.taobao.android:weex_sdk:0.7.0@aar'\n}\n```\n\n这就是那段会显示setTimeout()的配置，其中：\n\n```\ncompile 'com.android.support:appcompat-v7:24.2.1'\ncompile 'com.android.support:recyclerview-v7:24.2.1'\ncompile 'com.android.support:support-v4:24.2.1'\n```\n\n这段代码，载入的是最新的依赖包，进过测试，如果改成24.2.0或者直接23.x.x就不会有问题。\n当然有人说，官方文档采用的都是API 23，所以当然会报错。但文档已经很长时间没有更新了。况且文档中也并未说明不能采用高版本API，并且weex的版本都已经0.7了，而依赖标准是0.5时提出，加上android studio在构建项目时都默认采用最新的API，并且还会不停的提示升级，所以就掉进了这个坑。我想其他小白也可能会掉进来。\n"
}
