{
  "url": "https://api.github.com/repos/alibaba/weex/issues/2765",
  "repository_url": "https://api.github.com/repos/alibaba/weex",
  "labels_url": "https://api.github.com/repos/alibaba/weex/issues/2765/labels{/name}",
  "comments_url": "https://api.github.com/repos/alibaba/weex/issues/2765/comments",
  "events_url": "https://api.github.com/repos/alibaba/weex/issues/2765/events",
  "html_url": "https://github.com/alibaba/weex/issues/2765",
  "id": 209988256,
  "number": 2765,
  "title": "[ios bug]多层transform:translate动画，会导致组件模糊",
  "user": {
    "login": "xxiiaass",
    "id": 15938604,
    "avatar_url": "https://avatars2.githubusercontent.com/u/15938604?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/xxiiaass",
    "html_url": "https://github.com/xxiiaass",
    "followers_url": "https://api.github.com/users/xxiiaass/followers",
    "following_url": "https://api.github.com/users/xxiiaass/following{/other_user}",
    "gists_url": "https://api.github.com/users/xxiiaass/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/xxiiaass/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/xxiiaass/subscriptions",
    "organizations_url": "https://api.github.com/users/xxiiaass/orgs",
    "repos_url": "https://api.github.com/users/xxiiaass/repos",
    "events_url": "https://api.github.com/users/xxiiaass/events{/privacy}",
    "received_events_url": "https://api.github.com/users/xxiiaass/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": [
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/282235027",
      "html_url": "https://github.com/alibaba/weex/issues/2765#issuecomment-282235027",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/2765",
      "id": 282235027,
      "user": {
        "login": "xxiiaass",
        "id": 15938604,
        "avatar_url": "https://avatars2.githubusercontent.com/u/15938604?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/xxiiaass",
        "html_url": "https://github.com/xxiiaass",
        "followers_url": "https://api.github.com/users/xxiiaass/followers",
        "following_url": "https://api.github.com/users/xxiiaass/following{/other_user}",
        "gists_url": "https://api.github.com/users/xxiiaass/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/xxiiaass/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/xxiiaass/subscriptions",
        "organizations_url": "https://api.github.com/users/xxiiaass/orgs",
        "repos_url": "https://api.github.com/users/xxiiaass/repos",
        "events_url": "https://api.github.com/users/xxiiaass/events{/privacy}",
        "received_events_url": "https://api.github.com/users/xxiiaass/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2017-02-24T08:35:31Z",
      "updated_at": "2017-02-24T08:35:59Z",
      "body": "\r\n完整可用demo代码在下面\r\n```\r\n<template>\r\n  <div>\r\n    <div class=\"big-box\" ref=\"bigBox\">\r\n      <div ref=\"div1\" @click=\"ani1\" class=\"div1\">\r\n        <text>div1</text>\r\n      </div>\r\n      <div ref='div2' @click=\"ani2\" class=\"div2\">\r\n        <text>div2</text>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nconst animation = weex.requireModule('animation')\r\n\r\nexport default {\r\n  methods: {\r\n    ani1: function() {\r\n      const div1 = this.$refs.div1;\r\n      animation.transition(div1, {\r\n        styles: {\r\n          transform: `translate(50px, 10px)`,\r\n        },\r\n        duration: this.transformDuration || 300, //ms\r\n        timingFunction: 'ease-out',\r\n        delay: 0 //ms\r\n      }, function () {\r\n        \r\n      })\r\n    },\r\n    ani2:function() {\r\n      const bigBox = this.$refs.bigBox;\r\n      animation.transition(bigBox, {\r\n        styles: {\r\n          transform: `translate(10px,50px)`,\r\n        },\r\n        duration: this.transformDuration || 300, //ms\r\n        timingFunction: 'ease-out',\r\n        delay: 0 //ms\r\n      }, function () {\r\n        \r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n  .div1 {\r\n    width: 250px;\r\n    height: 250px;\r\n    background-color: #DDD;\r\n  }\r\n  .big-box{\r\n    height: 300px;\r\n    width: 750px;\r\n  }\r\n  .div2{\r\n    width: 250px;\r\n    height: 250px;\r\n    background-color: red;\r\n  }\r\n</style>\r\n```"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/282270187",
      "html_url": "https://github.com/alibaba/weex/issues/2765#issuecomment-282270187",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/2765",
      "id": 282270187,
      "user": {
        "login": "acton393",
        "id": 11631084,
        "avatar_url": "https://avatars1.githubusercontent.com/u/11631084?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/acton393",
        "html_url": "https://github.com/acton393",
        "followers_url": "https://api.github.com/users/acton393/followers",
        "following_url": "https://api.github.com/users/acton393/following{/other_user}",
        "gists_url": "https://api.github.com/users/acton393/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/acton393/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/acton393/subscriptions",
        "organizations_url": "https://api.github.com/users/acton393/orgs",
        "repos_url": "https://api.github.com/users/acton393/repos",
        "events_url": "https://api.github.com/users/acton393/events{/privacy}",
        "received_events_url": "https://api.github.com/users/acton393/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2017-02-24T11:29:31Z",
      "updated_at": "2017-02-24T11:29:31Z",
      "body": "hi  @xxiiaass  这个问题我们已经注意到了,会尽快解决"
    }
  ],
  "created_at": "2017-02-24T08:32:40Z",
  "updated_at": "2017-02-24T11:29:31Z",
  "closed_at": null,
  "body": "\r\n```\r\n   <div ref=\"box\">\r\n      <div ref=\"div1\">\r\n      </div>\r\n      <div ref='div2'>\r\n      </div>\r\n    </div>\r\n```\r\n如上的代码，如果对div1执行了transform:translate的动画，在对box执行transform:translate的动画，会导致div1的组件变得模糊\r\n\r\n调换执行顺序也一样。\r\n\r\n<img width=\"571\" alt=\"qq20170224-0\" src=\"https://cloud.githubusercontent.com/assets/15938604/23296169/c3cb49e0-faae-11e6-9605-0b3a7e86851b.png\">\r\n\r\n",
  "closed_by": null
}
