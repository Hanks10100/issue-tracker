{
  "url": "https://api.github.com/repos/alibaba/weex/issues/1537",
  "repository_url": "https://api.github.com/repos/alibaba/weex",
  "labels_url": "https://api.github.com/repos/alibaba/weex/issues/1537/labels{/name}",
  "comments_url": "https://api.github.com/repos/alibaba/weex/issues/1537/comments",
  "events_url": "https://api.github.com/repos/alibaba/weex/issues/1537/events",
  "html_url": "https://github.com/alibaba/weex/issues/1537",
  "id": 186062621,
  "number": 1537,
  "title": " iOS list列表中下拉刷新时会有闪烁的效果，体验很差",
  "user": {
    "login": "allentofight",
    "id": 1235483,
    "avatar_url": "https://avatars2.githubusercontent.com/u/1235483?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/allentofight",
    "html_url": "https://github.com/allentofight",
    "followers_url": "https://api.github.com/users/allentofight/followers",
    "following_url": "https://api.github.com/users/allentofight/following{/other_user}",
    "gists_url": "https://api.github.com/users/allentofight/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/allentofight/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/allentofight/subscriptions",
    "organizations_url": "https://api.github.com/users/allentofight/orgs",
    "repos_url": "https://api.github.com/users/allentofight/repos",
    "events_url": "https://api.github.com/users/allentofight/events{/privacy}",
    "received_events_url": "https://api.github.com/users/allentofight/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 359381244,
      "url": "https://api.github.com/repos/alibaba/weex/labels/ios",
      "name": "ios",
      "color": "f9d0c4",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": [
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/257075560",
      "html_url": "https://github.com/alibaba/weex/issues/1537#issuecomment-257075560",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1537",
      "id": 257075560,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-29T06:58:47Z",
      "updated_at": "2016-10-29T06:58:47Z",
      "body": "你好，想先确认一下，template 源代码里的 repeat 写法是 `repeat=\"list\"` 还是 `repeat=\"item in list\"`，前者的更新逻辑设计得不够好，而且已经不推荐使用了，后者可以保持相同的内容不会被重复创建和更新\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/257077504",
      "html_url": "https://github.com/alibaba/weex/issues/1537#issuecomment-257077504",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1537",
      "id": 257077504,
      "user": {
        "login": "allentofight",
        "id": 1235483,
        "avatar_url": "https://avatars2.githubusercontent.com/u/1235483?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/allentofight",
        "html_url": "https://github.com/allentofight",
        "followers_url": "https://api.github.com/users/allentofight/followers",
        "following_url": "https://api.github.com/users/allentofight/following{/other_user}",
        "gists_url": "https://api.github.com/users/allentofight/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/allentofight/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/allentofight/subscriptions",
        "organizations_url": "https://api.github.com/users/allentofight/orgs",
        "repos_url": "https://api.github.com/users/allentofight/repos",
        "events_url": "https://api.github.com/users/allentofight/events{/privacy}",
        "received_events_url": "https://api.github.com/users/allentofight/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-29T07:49:22Z",
      "updated_at": "2016-10-29T07:49:22Z",
      "body": "Hi,用`repeat=\"item in list\"`果然就好了，cool!多谢!\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/257810190",
      "html_url": "https://github.com/alibaba/weex/issues/1537#issuecomment-257810190",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1537",
      "id": 257810190,
      "user": {
        "login": "allentofight",
        "id": 1235483,
        "avatar_url": "https://avatars2.githubusercontent.com/u/1235483?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/allentofight",
        "html_url": "https://github.com/allentofight",
        "followers_url": "https://api.github.com/users/allentofight/followers",
        "following_url": "https://api.github.com/users/allentofight/following{/other_user}",
        "gists_url": "https://api.github.com/users/allentofight/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/allentofight/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/allentofight/subscriptions",
        "organizations_url": "https://api.github.com/users/allentofight/orgs",
        "repos_url": "https://api.github.com/users/allentofight/repos",
        "events_url": "https://api.github.com/users/allentofight/events{/privacy}",
        "received_events_url": "https://api.github.com/users/allentofight/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-02T09:12:55Z",
      "updated_at": "2016-11-02T09:12:55Z",
      "body": "实测现在发现另一个问题，下拉刷新后由于数据源变化，cell里如果有图片，图片有时会先显示本应是其他cell的图片，再显示第一个cell的图片，会有一种闪烁效果\n\n同时在第一个cell中的text有时下拉刷新后就没掉了\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/258332111",
      "html_url": "https://github.com/alibaba/weex/issues/1537#issuecomment-258332111",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1537",
      "id": 258332111,
      "user": {
        "login": "allentofight",
        "id": 1235483,
        "avatar_url": "https://avatars2.githubusercontent.com/u/1235483?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/allentofight",
        "html_url": "https://github.com/allentofight",
        "followers_url": "https://api.github.com/users/allentofight/followers",
        "following_url": "https://api.github.com/users/allentofight/following{/other_user}",
        "gists_url": "https://api.github.com/users/allentofight/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/allentofight/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/allentofight/subscriptions",
        "organizations_url": "https://api.github.com/users/allentofight/orgs",
        "repos_url": "https://api.github.com/users/allentofight/repos",
        "events_url": "https://api.github.com/users/allentofight/events{/privacy}",
        "received_events_url": "https://api.github.com/users/allentofight/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-04T02:48:23Z",
      "updated_at": "2016-11-04T02:48:23Z",
      "body": "经排查，发现还有一个地方未未使用`repeat=\"item in list\"`这种形式，使用了就OK了，sorry\n"
    }
  ],
  "created_at": "2016-10-29T06:22:42Z",
  "updated_at": "2016-11-04T02:48:23Z",
  "closed_at": "2016-11-04T02:48:23Z",
  "body": "![bad](http://i.imgur.com/SJOJjjr.gif)\n如图所示，在已有数据源的基本下再下拉刷新(请求完网络数据更新数据源)会有很明显的闪烁效果，体验很差，下拉刷新时的相关代码如下\n\n```\n var vm = this;\n if (page === 1) {\n        vm.lists = [];\n }\nvar dataSource = vm.lists;\ndataSource.push({'promotionItems': model.promotion_items});\n```\n\nlist是数据源，数据其实是一样，只不过是数据地址不一样，结果就造成了这种效果，应该是WXListComponent实现的刷新机制问题导致这种下拉刷新后的闪烁\n\n正常的下拉刷新效果可以看淘宝首页的下拉刷新，很顺畅，没有闪烁效果\n"
}
