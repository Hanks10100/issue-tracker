{
  "url": "https://api.github.com/repos/alibaba/weex/issues/1746",
  "repository_url": "https://api.github.com/repos/alibaba/weex",
  "labels_url": "https://api.github.com/repos/alibaba/weex/issues/1746/labels{/name}",
  "comments_url": "https://api.github.com/repos/alibaba/weex/issues/1746/comments",
  "events_url": "https://api.github.com/repos/alibaba/weex/issues/1746/events",
  "html_url": "https://github.com/alibaba/weex/issues/1746",
  "id": 191930161,
  "number": 1746,
  "title": "Weex Android扩展自定义控件 无法显示",
  "user": {
    "login": "jiantao88",
    "id": 7411102,
    "avatar_url": "https://avatars0.githubusercontent.com/u/7411102?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jiantao88",
    "html_url": "https://github.com/jiantao88",
    "followers_url": "https://api.github.com/users/jiantao88/followers",
    "following_url": "https://api.github.com/users/jiantao88/following{/other_user}",
    "gists_url": "https://api.github.com/users/jiantao88/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jiantao88/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jiantao88/subscriptions",
    "organizations_url": "https://api.github.com/users/jiantao88/orgs",
    "repos_url": "https://api.github.com/users/jiantao88/repos",
    "events_url": "https://api.github.com/users/jiantao88/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jiantao88/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "YorkShen",
    "id": 4162544,
    "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/YorkShen",
    "html_url": "https://github.com/YorkShen",
    "followers_url": "https://api.github.com/users/YorkShen/followers",
    "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
    "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
    "organizations_url": "https://api.github.com/users/YorkShen/orgs",
    "repos_url": "https://api.github.com/users/YorkShen/repos",
    "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
    "received_events_url": "https://api.github.com/users/YorkShen/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "YorkShen",
      "id": 4162544,
      "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/YorkShen",
      "html_url": "https://github.com/YorkShen",
      "followers_url": "https://api.github.com/users/YorkShen/followers",
      "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
      "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
      "organizations_url": "https://api.github.com/users/YorkShen/orgs",
      "repos_url": "https://api.github.com/users/YorkShen/repos",
      "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/YorkShen/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": [
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/263491300",
      "html_url": "https://github.com/alibaba/weex/issues/1746#issuecomment-263491300",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1746",
      "id": 263491300,
      "user": {
        "login": "YorkShen",
        "id": 4162544,
        "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/YorkShen",
        "html_url": "https://github.com/YorkShen",
        "followers_url": "https://api.github.com/users/YorkShen/followers",
        "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
        "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
        "organizations_url": "https://api.github.com/users/YorkShen/orgs",
        "repos_url": "https://api.github.com/users/YorkShen/repos",
        "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/YorkShen/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-29T06:53:10Z",
      "updated_at": "2016-11-29T06:53:10Z",
      "body": "自行定制的text，需要自行编写dom和component的measure方法，参见WXTextDomObject。同时需要把dom和component关联起来，见https://github.com/alibaba/weex/blob/dev/android/sdk/src/main/java/com/taobao/weex/WXSDKEngine.java#L345"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/263515456",
      "html_url": "https://github.com/alibaba/weex/issues/1746#issuecomment-263515456",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1746",
      "id": 263515456,
      "user": {
        "login": "jiantao88",
        "id": 7411102,
        "avatar_url": "https://avatars0.githubusercontent.com/u/7411102?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jiantao88",
        "html_url": "https://github.com/jiantao88",
        "followers_url": "https://api.github.com/users/jiantao88/followers",
        "following_url": "https://api.github.com/users/jiantao88/following{/other_user}",
        "gists_url": "https://api.github.com/users/jiantao88/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jiantao88/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jiantao88/subscriptions",
        "organizations_url": "https://api.github.com/users/jiantao88/orgs",
        "repos_url": "https://api.github.com/users/jiantao88/repos",
        "events_url": "https://api.github.com/users/jiantao88/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jiantao88/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-29T09:09:52Z",
      "updated_at": "2016-11-29T09:09:52Z",
      "body": "http://alibaba.github.io/weex/doc/advanced/extend-to-android.html\r\n按照文档缩写的，我已经在application中调用了注册方法，请看图2 \r\n也就是这个方法，但是还没没有显示\r\n```WXSDKEngine.registerComponent(\"richtext\", RichText.class);```\r\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/263517295",
      "html_url": "https://github.com/alibaba/weex/issues/1746#issuecomment-263517295",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1746",
      "id": 263517295,
      "user": {
        "login": "YorkShen",
        "id": 4162544,
        "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/YorkShen",
        "html_url": "https://github.com/YorkShen",
        "followers_url": "https://api.github.com/users/YorkShen/followers",
        "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
        "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
        "organizations_url": "https://api.github.com/users/YorkShen/orgs",
        "repos_url": "https://api.github.com/users/YorkShen/repos",
        "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/YorkShen/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-29T09:18:35Z",
      "updated_at": "2016-11-29T09:26:02Z",
      "body": "@jiantao88 需要注册dom，请看上一条回答。text组件是一个基础组件，但是实现很复杂，自行扩展建议从简单的组件如switch做起。"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/263521222",
      "html_url": "https://github.com/alibaba/weex/issues/1746#issuecomment-263521222",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1746",
      "id": 263521222,
      "user": {
        "login": "jiantao88",
        "id": 7411102,
        "avatar_url": "https://avatars0.githubusercontent.com/u/7411102?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jiantao88",
        "html_url": "https://github.com/jiantao88",
        "followers_url": "https://api.github.com/users/jiantao88/followers",
        "following_url": "https://api.github.com/users/jiantao88/following{/other_user}",
        "gists_url": "https://api.github.com/users/jiantao88/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jiantao88/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jiantao88/subscriptions",
        "organizations_url": "https://api.github.com/users/jiantao88/orgs",
        "repos_url": "https://api.github.com/users/jiantao88/repos",
        "events_url": "https://api.github.com/users/jiantao88/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jiantao88/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-29T09:35:05Z",
      "updated_at": "2016-11-29T09:35:05Z",
      "body": "![image](https://cloud.githubusercontent.com/assets/7411102/20704395/129403d0-b65a-11e6-9292-28ac730161b4.png)\r\n是这样注册么？这样注册还是无法显示"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/263538035",
      "html_url": "https://github.com/alibaba/weex/issues/1746#issuecomment-263538035",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1746",
      "id": 263538035,
      "user": {
        "login": "YorkShen",
        "id": 4162544,
        "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/YorkShen",
        "html_url": "https://github.com/YorkShen",
        "followers_url": "https://api.github.com/users/YorkShen/followers",
        "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
        "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
        "organizations_url": "https://api.github.com/users/YorkShen/orgs",
        "repos_url": "https://api.github.com/users/YorkShen/repos",
        "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/YorkShen/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-29T10:48:58Z",
      "updated_at": "2016-11-29T10:50:46Z",
      "body": "@jiantao88 是的，dom和compoent要配对，WXTextDomObject需要和WXText配对，和其他的component配对，可能渲染不出来。参考WXSwitch和WXSwitchDomObject的源代码"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/263538562",
      "html_url": "https://github.com/alibaba/weex/issues/1746#issuecomment-263538562",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1746",
      "id": 263538562,
      "user": {
        "login": "jiantao88",
        "id": 7411102,
        "avatar_url": "https://avatars0.githubusercontent.com/u/7411102?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jiantao88",
        "html_url": "https://github.com/jiantao88",
        "followers_url": "https://api.github.com/users/jiantao88/followers",
        "following_url": "https://api.github.com/users/jiantao88/following{/other_user}",
        "gists_url": "https://api.github.com/users/jiantao88/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jiantao88/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jiantao88/subscriptions",
        "organizations_url": "https://api.github.com/users/jiantao88/orgs",
        "repos_url": "https://api.github.com/users/jiantao88/repos",
        "events_url": "https://api.github.com/users/jiantao88/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jiantao88/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-29T10:51:18Z",
      "updated_at": "2016-11-29T10:51:18Z",
      "body": "那如何自定义dom呢？我看官方文档和官方demo里都没有相关的代码，RichText也是官方demo里的。"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/263539172",
      "html_url": "https://github.com/alibaba/weex/issues/1746#issuecomment-263539172",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1746",
      "id": 263539172,
      "user": {
        "login": "YorkShen",
        "id": 4162544,
        "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/YorkShen",
        "html_url": "https://github.com/YorkShen",
        "followers_url": "https://api.github.com/users/YorkShen/followers",
        "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
        "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
        "organizations_url": "https://api.github.com/users/YorkShen/orgs",
        "repos_url": "https://api.github.com/users/YorkShen/repos",
        "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/YorkShen/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-29T10:53:53Z",
      "updated_at": "2016-11-29T10:53:53Z",
      "body": "所有的dom都需要继承WXDomObject，看下WXSwitchDomObject的代码，那个是最简单的dom."
    }
  ],
  "created_at": "2016-11-28T06:38:00Z",
  "updated_at": "2016-11-29T10:53:53Z",
  "closed_at": "2016-11-29T06:53:10Z",
  "body": "<!--\r\n0. It's ***RECOMMENDED*** to [submit PR](https://github.com/alibaba/weex/pulls) for typo, new demo or tiny bugfix.\r\n0. If this's a ***BUG***, pls provide: course repetition, error/crash log, device model, OS version, App version (playground or other apps).\r\n0. If this's a ***FEATURE***, pls provide: details, pseudo codes if necessary.\r\n\r\n---\r\n\r\n（请在***提交***前删除这段描述）\r\n\r\n0. 我们***推荐***小问题直接[提 PR](https://github.com/alibaba/weex/pulls)，如错别字、新 demo 或 bugfix。\r\n0. 如果是 ***Bug***，请提供：复现步骤（推荐有截图）、error/crash log、设备型号、OS 版本、App 版本（playground 版本或自己的 app）。\r\n0. 如果是***新需求***，请提供：详细描述、应用场景、适当的伪代码（如有）。\r\n-->\r\n## Weex 中使用WXComponent 扩展自定义控件，在.wx中使用后android端无法显示，请帮忙查看是否我这写的有问题；\r\n![image](https://cloud.githubusercontent.com/assets/7411102/20658304/bac9887a-b576-11e6-8d5a-03157184e7b4.png)\r\n![image](https://cloud.githubusercontent.com/assets/7411102/20658311/c570241e-b576-11e6-9b07-8bd694d181ac.png)\r\n.wx 里调用的方法\r\n```html\r\n<richtext style=\"background-color:red;margin-top: 30\" tel=\"18600000000\"></richtext>\r\n<text style=\"background-color:red;\">123</text>\r\n```\r\n\r\n\r\n实际应该显示两个textview ，结果只显示了下面正常的text，自定义的richtext不显示\r\n![image](https://cloud.githubusercontent.com/assets/7411102/20658344/05a6bb7e-b577-11e6-928c-d5ecd064850b.png)\r\n\r\n![image](https://cloud.githubusercontent.com/assets/7411102/20658516/8072d97c-b578-11e6-83b4-2a5c719a7e91.png)\r\nAndroid7.0系统\r\n\r\n"
}
