{
  "url": "https://api.github.com/repos/alibaba/weex/issues/2908",
  "repository_url": "https://api.github.com/repos/alibaba/weex",
  "labels_url": "https://api.github.com/repos/alibaba/weex/issues/2908/labels{/name}",
  "comments_url": "https://api.github.com/repos/alibaba/weex/issues/2908/comments",
  "events_url": "https://api.github.com/repos/alibaba/weex/issues/2908/events",
  "html_url": "https://github.com/alibaba/weex/issues/2908",
  "id": 213290103,
  "number": 2908,
  "title": "ref指向的元素不对",
  "user": {
    "login": "lili21",
    "id": 4456380,
    "avatar_url": "https://avatars0.githubusercontent.com/u/4456380?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lili21",
    "html_url": "https://github.com/lili21",
    "followers_url": "https://api.github.com/users/lili21/followers",
    "following_url": "https://api.github.com/users/lili21/following{/other_user}",
    "gists_url": "https://api.github.com/users/lili21/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lili21/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lili21/subscriptions",
    "organizations_url": "https://api.github.com/users/lili21/orgs",
    "repos_url": "https://api.github.com/users/lili21/repos",
    "events_url": "https://api.github.com/users/lili21/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lili21/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": [],
  "created_at": "2017-03-10T09:36:34Z",
  "updated_at": "2017-03-10T09:41:33Z",
  "closed_at": null,
  "body": "```\r\n<template>\r\n  <div class=\"sidebar\">\r\n    <div class=\"trigger\" @click=\"trigger\">\r\n      <slot></slot>\r\n    </div>\r\n    <div class=\"overlay\" v-if=\"open\" @click=\"trigger\"  :style=\"{height: height + 'px'}\"></div>\r\n    <div class=\"container\" ref=\"menu\" :style=\"{height: height + 'px'}\">\r\n      <slot name=\"menu\"></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  const animation = weex.requireModule('animation')\r\n\r\n  export default {\r\n    data () {\r\n      return {\r\n        open: false,\r\n        height: weex.config.env.deviceHeight\r\n      }\r\n    },\r\n    methods: {\r\n      trigger () {\r\n        this.open = !this.open\r\n        console.log(this.$refs.menu)\r\n        animation.transition(this.$refs.menu, {\r\n          styles: {\r\n            transform: this.open ? 'translateX(0)' : 'translateX(100%)'\r\n          },\r\n          duration: 300,\r\n          timingFunction: 'ease-out'\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .overlay {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    background-color: rgba(0, 255, 0, 0.3);\r\n  }\r\n  .container {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    transform: translateX(100%);\r\n    background-color: rgba(255, 0, 0, 0.3);\r\n  }\r\n</style>\r\n```\r\n\r\n以上代码在ios weex playground里是可以正常运行的。但在浏览器里确无法正常运行，this.$refs.menu指向的是`overlay`元素。\r\n\r\n\r\nweex-vue-render@0.10.0",
  "closed_by": null
}
