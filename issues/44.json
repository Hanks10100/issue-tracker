{
  "url": "https://api.github.com/repos/alibaba/weex/issues/44",
  "repository_url": "https://api.github.com/repos/alibaba/weex",
  "labels_url": "https://api.github.com/repos/alibaba/weex/issues/44/labels{/name}",
  "comments_url": "https://api.github.com/repos/alibaba/weex/issues/44/comments",
  "events_url": "https://api.github.com/repos/alibaba/weex/issues/44/events",
  "html_url": "https://github.com/alibaba/weex/issues/44",
  "id": 150275854,
  "number": 44,
  "title": "video tag auto-play attribute bug",
  "user": {
    "login": "amdgigabyte",
    "id": 296426,
    "avatar_url": "https://avatars1.githubusercontent.com/u/296426?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/amdgigabyte",
    "html_url": "https://github.com/amdgigabyte",
    "followers_url": "https://api.github.com/users/amdgigabyte/followers",
    "following_url": "https://api.github.com/users/amdgigabyte/following{/other_user}",
    "gists_url": "https://api.github.com/users/amdgigabyte/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/amdgigabyte/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/amdgigabyte/subscriptions",
    "organizations_url": "https://api.github.com/users/amdgigabyte/orgs",
    "repos_url": "https://api.github.com/users/amdgigabyte/repos",
    "events_url": "https://api.github.com/users/amdgigabyte/events{/privacy}",
    "received_events_url": "https://api.github.com/users/amdgigabyte/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 359381236,
      "url": "https://api.github.com/repos/alibaba/weex/labels/android",
      "name": "android",
      "color": "f9d0c4",
      "default": false
    },
    {
      "id": 339914706,
      "url": "https://api.github.com/repos/alibaba/weex/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true
    },
    {
      "id": 359381235,
      "url": "https://api.github.com/repos/alibaba/weex/labels/html5",
      "name": "html5",
      "color": "f9d0c4",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "MrRaindrop",
    "id": 1545874,
    "avatar_url": "https://avatars3.githubusercontent.com/u/1545874?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MrRaindrop",
    "html_url": "https://github.com/MrRaindrop",
    "followers_url": "https://api.github.com/users/MrRaindrop/followers",
    "following_url": "https://api.github.com/users/MrRaindrop/following{/other_user}",
    "gists_url": "https://api.github.com/users/MrRaindrop/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MrRaindrop/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MrRaindrop/subscriptions",
    "organizations_url": "https://api.github.com/users/MrRaindrop/orgs",
    "repos_url": "https://api.github.com/users/MrRaindrop/repos",
    "events_url": "https://api.github.com/users/MrRaindrop/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MrRaindrop/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "MrRaindrop",
      "id": 1545874,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1545874?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MrRaindrop",
      "html_url": "https://github.com/MrRaindrop",
      "followers_url": "https://api.github.com/users/MrRaindrop/followers",
      "following_url": "https://api.github.com/users/MrRaindrop/following{/other_user}",
      "gists_url": "https://api.github.com/users/MrRaindrop/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MrRaindrop/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MrRaindrop/subscriptions",
      "organizations_url": "https://api.github.com/users/MrRaindrop/orgs",
      "repos_url": "https://api.github.com/users/MrRaindrop/repos",
      "events_url": "https://api.github.com/users/MrRaindrop/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MrRaindrop/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": [
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/213300469",
      "html_url": "https://github.com/alibaba/weex/issues/44#issuecomment-213300469",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/44",
      "id": 213300469,
      "user": {
        "login": "terrykingcha",
        "id": 1314662,
        "avatar_url": "https://avatars1.githubusercontent.com/u/1314662?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/terrykingcha",
        "html_url": "https://github.com/terrykingcha",
        "followers_url": "https://api.github.com/users/terrykingcha/followers",
        "following_url": "https://api.github.com/users/terrykingcha/following{/other_user}",
        "gists_url": "https://api.github.com/users/terrykingcha/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/terrykingcha/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/terrykingcha/subscriptions",
        "organizations_url": "https://api.github.com/users/terrykingcha/orgs",
        "repos_url": "https://api.github.com/users/terrykingcha/repos",
        "events_url": "https://api.github.com/users/terrykingcha/events{/privacy}",
        "received_events_url": "https://api.github.com/users/terrykingcha/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-04-22T07:23:27Z",
      "updated_at": "2016-04-22T07:28:15Z",
      "body": "Oops! Maybe it's a bug I think. We will fix it soon! THX! BTW, there is a mistake for `videoRender` data-binding in your code ^-^.  \n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/213309033",
      "html_url": "https://github.com/alibaba/weex/issues/44#issuecomment-213309033",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/44",
      "id": 213309033,
      "user": {
        "login": "amdgigabyte",
        "id": 296426,
        "avatar_url": "https://avatars1.githubusercontent.com/u/296426?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amdgigabyte",
        "html_url": "https://github.com/amdgigabyte",
        "followers_url": "https://api.github.com/users/amdgigabyte/followers",
        "following_url": "https://api.github.com/users/amdgigabyte/following{/other_user}",
        "gists_url": "https://api.github.com/users/amdgigabyte/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/amdgigabyte/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/amdgigabyte/subscriptions",
        "organizations_url": "https://api.github.com/users/amdgigabyte/orgs",
        "repos_url": "https://api.github.com/users/amdgigabyte/repos",
        "events_url": "https://api.github.com/users/amdgigabyte/events{/privacy}",
        "received_events_url": "https://api.github.com/users/amdgigabyte/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-04-22T07:48:19Z",
      "updated_at": "2016-04-22T07:48:19Z",
      "body": ":) videoRender -> {{videoRender}} , but does not change the wrong rendering result.\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/213725964",
      "html_url": "https://github.com/alibaba/weex/issues/44#issuecomment-213725964",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/44",
      "id": 213725964,
      "user": {
        "login": "MrRaindrop",
        "id": 1545874,
        "avatar_url": "https://avatars3.githubusercontent.com/u/1545874?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MrRaindrop",
        "html_url": "https://github.com/MrRaindrop",
        "followers_url": "https://api.github.com/users/MrRaindrop/followers",
        "following_url": "https://api.github.com/users/MrRaindrop/following{/other_user}",
        "gists_url": "https://api.github.com/users/MrRaindrop/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/MrRaindrop/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/MrRaindrop/subscriptions",
        "organizations_url": "https://api.github.com/users/MrRaindrop/orgs",
        "repos_url": "https://api.github.com/users/MrRaindrop/repos",
        "events_url": "https://api.github.com/users/MrRaindrop/events{/privacy}",
        "received_events_url": "https://api.github.com/users/MrRaindrop/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-04-23T11:45:28Z",
      "updated_at": "2016-04-23T11:45:28Z",
      "body": "@amdgigabyte generally speaking this problem is because of the missing diff-algorithm trigger within the timer function. By the way, you should set the `auto-play` attribute to `true` (not `auto` or `false`) if you want the video to play after its rendering finished. So, beside the 'timer' issue, there is a way to get your code running:\n\n```\n// ...\n<video if=\"videoRender\" class=\"video\" onpause=\"onpause\" onstart=\"onstart\"\n        onfinish=\"onfinish\" onfail=\"onfail\"\n        src=\"http://cloud.video.taobao.com/play/u/522794875/p/2/e/6/t/1/d/ld/fv/2/23335165.mp4\"\n        auto-play=\"true\" play-status=\"{{playStatus}}\">\n      </video>\n// ...\n      init: function() {\n        var self = this;\n        self.videoRender = true;\n        self.playStatus = 'play';\n        // setTimeout(function() {\n        //   self.playStatus = 'play';\n        // },500);\n      },\n```\n\nThis code should work as expected. The timer issue depends on @terrykingcha 's work and maybe later it will get work. Thank you for you feedback ~ : )\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/213913524",
      "html_url": "https://github.com/alibaba/weex/issues/44#issuecomment-213913524",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/44",
      "id": 213913524,
      "user": {
        "login": "amdgigabyte",
        "id": 296426,
        "avatar_url": "https://avatars1.githubusercontent.com/u/296426?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amdgigabyte",
        "html_url": "https://github.com/amdgigabyte",
        "followers_url": "https://api.github.com/users/amdgigabyte/followers",
        "following_url": "https://api.github.com/users/amdgigabyte/following{/other_user}",
        "gists_url": "https://api.github.com/users/amdgigabyte/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/amdgigabyte/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/amdgigabyte/subscriptions",
        "organizations_url": "https://api.github.com/users/amdgigabyte/orgs",
        "repos_url": "https://api.github.com/users/amdgigabyte/repos",
        "events_url": "https://api.github.com/users/amdgigabyte/events{/privacy}",
        "received_events_url": "https://api.github.com/users/amdgigabyte/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-04-24T08:25:34Z",
      "updated_at": "2016-04-24T08:30:56Z",
      "body": "thx，@MrRaindrop，Now it works fine without timer! And the Timer issue needs to be fixed.\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/214196556",
      "html_url": "https://github.com/alibaba/weex/issues/44#issuecomment-214196556",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/44",
      "id": 214196556,
      "user": {
        "login": "ZhaoYukai",
        "id": 7009705,
        "avatar_url": "https://avatars2.githubusercontent.com/u/7009705?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ZhaoYukai",
        "html_url": "https://github.com/ZhaoYukai",
        "followers_url": "https://api.github.com/users/ZhaoYukai/followers",
        "following_url": "https://api.github.com/users/ZhaoYukai/following{/other_user}",
        "gists_url": "https://api.github.com/users/ZhaoYukai/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ZhaoYukai/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ZhaoYukai/subscriptions",
        "organizations_url": "https://api.github.com/users/ZhaoYukai/orgs",
        "repos_url": "https://api.github.com/users/ZhaoYukai/repos",
        "events_url": "https://api.github.com/users/ZhaoYukai/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ZhaoYukai/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-04-25T08:01:58Z",
      "updated_at": "2016-04-25T08:01:58Z",
      "body": "请问您所用的环境是什么呢？Windows还是Mac OS??\n我这npm install和npm run serve相关的总是出问题，用的Windows环境\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/214279995",
      "html_url": "https://github.com/alibaba/weex/issues/44#issuecomment-214279995",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/44",
      "id": 214279995,
      "user": {
        "login": "amdgigabyte",
        "id": 296426,
        "avatar_url": "https://avatars1.githubusercontent.com/u/296426?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amdgigabyte",
        "html_url": "https://github.com/amdgigabyte",
        "followers_url": "https://api.github.com/users/amdgigabyte/followers",
        "following_url": "https://api.github.com/users/amdgigabyte/following{/other_user}",
        "gists_url": "https://api.github.com/users/amdgigabyte/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/amdgigabyte/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/amdgigabyte/subscriptions",
        "organizations_url": "https://api.github.com/users/amdgigabyte/orgs",
        "repos_url": "https://api.github.com/users/amdgigabyte/repos",
        "events_url": "https://api.github.com/users/amdgigabyte/events{/privacy}",
        "received_events_url": "https://api.github.com/users/amdgigabyte/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-04-25T11:50:00Z",
      "updated_at": "2016-04-25T11:50:00Z",
      "body": "@ZhaoYukai 新开一个issue说你这个问题吧，然后把报错信息贴出来\n"
    }
  ],
  "created_at": "2016-04-22T05:52:46Z",
  "updated_at": "2016-05-20T03:22:41Z",
  "closed_at": "2016-05-20T03:22:41Z",
  "body": "Q:Can I Speak Chinese...? A:Yes, U can...\n\nok，说一下现在使用video标签的感受，我们希望自由控制组件的渲染的时机。\n\n```\n<video\nif=\"videoRender\"\nclass=\"video\" \nonpause=\"onpause\"\nonstart=\"onstart\"\nonfinish=\"onfinish\"\nonfail=\"onfail\" src=\"http://cloud.video.taobao.com/play/u/522794875/p/2/e/6/t/1/d/ld/fv/2/23335165.mp4\"\nauto-play=\"auto\"\nplay-status=\"{{playStatus}}\">\n</video>\n```\n\n我希望通过videoRender来控制组件的加载时机，不让mp4文件做无谓的下载。\n但是在videoRender设为true的时候，组件初始化，但是视频没有自动加载(auto-play=\"auto\"失效),\n使用setTimeout的方式也不能控制视频的自动播放。\n\n参考问题代码\n\n```\n<template>\n  <scroller>\n    <div class=\"video-wrap\">\n      <video if=\"videoRender\" class=\"video\" onpause=\"onpause\" onstart=\"onstart\" onfinish=\"onfinish\" onfail=\"onfail\"\n             src=\"http://cloud.video.taobao.com/play/u/522794875/p/2/e/6/t/1/d/ld/fv/2/23335165.mp4\"\n             auto-play=\"false\" play-status=\"{{playStatus}}\">\n      </video>\n      <div class=\"video-placeholder\"></div>\n      <div class=\"video-control\">\n        <text class=\"close-btn\">&times;</text>\n      </div>\n    </div>\n\n    <div style=\"flex-direction: row; justify-content: center;\">\n      <ui-button value=\"Init\" click=\"{{init}}\"></ui-button>\n      <ui-button value=\"Pause\" click=\"{{pause}}\" style=\"margin-left:20px;\"></ui-button>\n      <ui-button value=\"Play\" click=\"{{play}}\" type=\"primary\" style=\"margin-left:20px;\"></ui-button>\n    </div>\n    <text style=\"height:2000px;background: #333333;\">\n\n    </text>\n  </scroller>\n</template>\n\n<style>\n  .video-wrap {\n    width:750px;\n    height:460px;\n  }\n  .video-placeholder {\n    width:0;\n    height:0;\n  }\n  .video-ready {\n    width:750px;\n    height:460px;\n  }\n  .video {\n    position: fixed;\n    top:0;\n    z-index: 100;\n    width: 750px;\n    height: 460px;\n    margin-bottom: 80px;\n  }\n</style>\n\n<script>\n  module.exports = {\n    data: {\n      playStatus: 'stop',\n      videoRender:false\n    },\n    methods: {\n      init: function() {\n        var self = this;\n        self.videoRender = true;\n        setTimeout(function() {\n          self.playStatus = 'play';\n        },500);\n      },\n      pause: function() {\n        this.playStatus = 'pause';\n      },\n      play: function() {\n        this.playStatus = 'play';\n      },\n      onpause: function() {\n        this.$call('modal', 'toast', {'message': 'video pause'});\n      },\n      onstart: function() {\n        this.$call('modal', 'toast', {'message': 'video start'});\n      },\n      onfinish: function() {\n        this.$call('modal', 'toast', {'message': 'video finish'});\n      },\n      onfail: function() {\n        this.$call('modal', 'toast', {'message': 'video fail'});\n      }\n    }\n  };\n</script>\n```\n"
}
