{
  "url": "https://api.github.com/repos/alibaba/weex/issues/2078",
  "repository_url": "https://api.github.com/repos/alibaba/weex",
  "labels_url": "https://api.github.com/repos/alibaba/weex/issues/2078/labels{/name}",
  "comments_url": "https://api.github.com/repos/alibaba/weex/issues/2078/comments",
  "events_url": "https://api.github.com/repos/alibaba/weex/issues/2078/events",
  "html_url": "https://github.com/alibaba/weex/issues/2078",
  "id": 197966969,
  "number": 2078,
  "title": "组件扩展问题",
  "user": {
    "login": "AndyFightting",
    "id": 12689782,
    "avatar_url": "https://avatars2.githubusercontent.com/u/12689782?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AndyFightting",
    "html_url": "https://github.com/AndyFightting",
    "followers_url": "https://api.github.com/users/AndyFightting/followers",
    "following_url": "https://api.github.com/users/AndyFightting/following{/other_user}",
    "gists_url": "https://api.github.com/users/AndyFightting/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AndyFightting/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AndyFightting/subscriptions",
    "organizations_url": "https://api.github.com/users/AndyFightting/orgs",
    "repos_url": "https://api.github.com/users/AndyFightting/repos",
    "events_url": "https://api.github.com/users/AndyFightting/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AndyFightting/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 359381236,
      "url": "https://api.github.com/repos/alibaba/weex/labels/android",
      "name": "android",
      "color": "f9d0c4",
      "default": false
    },
    {
      "id": 339914709,
      "url": "https://api.github.com/repos/alibaba/weex/labels/help%20wanted",
      "name": "help wanted",
      "color": "159818",
      "default": true
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": [
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/270045030",
      "html_url": "https://github.com/alibaba/weex/issues/2078#issuecomment-270045030",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/2078",
      "id": 270045030,
      "user": {
        "login": "fengmingye",
        "id": 16618626,
        "avatar_url": "https://avatars3.githubusercontent.com/u/16618626?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fengmingye",
        "html_url": "https://github.com/fengmingye",
        "followers_url": "https://api.github.com/users/fengmingye/followers",
        "following_url": "https://api.github.com/users/fengmingye/following{/other_user}",
        "gists_url": "https://api.github.com/users/fengmingye/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fengmingye/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fengmingye/subscriptions",
        "organizations_url": "https://api.github.com/users/fengmingye/orgs",
        "repos_url": "https://api.github.com/users/fengmingye/repos",
        "events_url": "https://api.github.com/users/fengmingye/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fengmingye/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2017-01-03T02:56:48Z",
      "updated_at": "2017-01-03T02:56:48Z",
      "body": "同提问。我也遇到了问题2，自定义的compnent在android端引用的时候就不显示。\r\n除非显示的指定自定义compent的height后，控件才显示。\r\n请问你后面有解决问题2吗？？"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/281884344",
      "html_url": "https://github.com/alibaba/weex/issues/2078#issuecomment-281884344",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/2078",
      "id": 281884344,
      "user": {
        "login": "zk0301",
        "id": 4497345,
        "avatar_url": "https://avatars1.githubusercontent.com/u/4497345?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zk0301",
        "html_url": "https://github.com/zk0301",
        "followers_url": "https://api.github.com/users/zk0301/followers",
        "following_url": "https://api.github.com/users/zk0301/following{/other_user}",
        "gists_url": "https://api.github.com/users/zk0301/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/zk0301/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zk0301/subscriptions",
        "organizations_url": "https://api.github.com/users/zk0301/orgs",
        "repos_url": "https://api.github.com/users/zk0301/repos",
        "events_url": "https://api.github.com/users/zk0301/events{/privacy}",
        "received_events_url": "https://api.github.com/users/zk0301/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2017-02-23T03:32:58Z",
      "updated_at": "2017-02-23T03:32:58Z",
      "body": "我的版本是0.10.0.2， 用的是android playground改的navigator-demo.js， push到我自定义的my_richtext.js\r\n显示没有问题。"
    }
  ],
  "created_at": "2016-12-29T07:43:43Z",
  "updated_at": "2017-03-01T06:35:25Z",
  "closed_at": null,
  "body": "1. 注册的时候组件名不能有大写吧 ！？ `WXSDKEngine.registerComponent(\"MyView\", MyViewComponent.class);` 一用大写就没效果，全小写就可以了。\r\n\r\n2. 在 Weex push 后的 we 文件里使用自定义组件不显示(iOS可以，Android 没效果)，而在 Android 里直接渲染 js 可以显示，\r\n\r\n<img width=\"400\" alt=\"hello\" src=\"https://cloud.githubusercontent.com/assets/12689782/21560755/931eeefa-ce9e-11e6-91aa-d18621862812.png\">\r\n\r\n\r\n代码如下：\r\n```\r\n<template>\r\n  <div>\r\n  <text>上面</text>\r\n  <my_view title = \"这是从we传到Native里的\" style = \"flex:1\"></my_view>\r\n   <text>下面</text>\r\n</div>\r\n</template>\r\n```\r\n`WXSDKEngine.registerComponent(\"my_view\", MyViewComponent.class);`\r\n```\r\npublic class  MyViewComponent extends WXComponent{\r\n\r\n    private MyView myView;\r\n\r\n    public MyViewComponent(WXSDKInstance instance, WXDomObject dom, WXVContainer parent, boolean isLazy) {\r\n        super(instance, dom, parent, isLazy);\r\n        myView = new MyView(mContext);\r\n    }\r\n\r\n    @Override\r\n    protected void initView() {\r\n        mHost = myView;\r\n    }\r\n\r\n    @WXComponentProp(name = \"title\")\r\n    public void setTitle(String string){\r\n        myView.setTitle(string);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class MyView extends LinearLayout implements View.OnClickListener{\r\n\r\n    private Context mContext;\r\n    private Button myBt;\r\n    private TextView myTv;\r\n\r\n    public MyView(Context context){\r\n        super(context,null);\r\n        mContext = context;\r\n        LayoutInflater.from(context).inflate(R.layout.my_view, this);\r\n        initView();\r\n    }\r\n\r\n    private void initView(){\r\n        myTv = (TextView) findViewById(R.id.my_tv);\r\n        myBt = (Button) findViewById(R.id.my_bt);\r\n        myBt.setOnClickListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        Toast.makeText(mContext,\"这是 Native 调用\", Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    public void setTitle(String string){\r\n        myTv.setText(string);\r\n    }\r\n}\r\n```\r\n```\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:orientation=\"vertical\"\r\n    android:background=\"@android:color/white\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\">\r\n\r\n    <TextView\r\n        android:textColor=\"@color/red\"\r\n        android:textSize=\"20dp\"\r\n        android:layout_marginTop=\"50dp\"\r\n        android:layout_marginBottom=\"40dp\"\r\n        android:layout_gravity=\"center_horizontal\"\r\n        android:text=\"这整个页面是Native页面!\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/my_tv\"\r\n        android:layout_gravity=\"center_horizontal\"\r\n        android:layout_margin=\"30dp\"\r\n        android:text=\"hello\"\r\n        android:textSize=\"20dp\"\r\n        android:textColor=\"@color/blue\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/my_bt\"\r\n        android:layout_gravity=\"center_horizontal\"\r\n        android:text=\"点击\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\" />\r\n\r\n</LinearLayout>\r\n\r\n```\r\n",
  "closed_by": null
}
