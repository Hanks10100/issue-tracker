{
  "url": "https://api.github.com/repos/alibaba/weex/issues/1196",
  "repository_url": "https://api.github.com/repos/alibaba/weex",
  "labels_url": "https://api.github.com/repos/alibaba/weex/issues/1196/labels{/name}",
  "comments_url": "https://api.github.com/repos/alibaba/weex/issues/1196/comments",
  "events_url": "https://api.github.com/repos/alibaba/weex/issues/1196/events",
  "html_url": "https://github.com/alibaba/weex/issues/1196",
  "id": 176164039,
  "number": 1196,
  "title": "Android dom模块updateStyle方法不起作用",
  "user": {
    "login": "blessyezi",
    "id": 16790300,
    "avatar_url": "https://avatars0.githubusercontent.com/u/16790300?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/blessyezi",
    "html_url": "https://github.com/blessyezi",
    "followers_url": "https://api.github.com/users/blessyezi/followers",
    "following_url": "https://api.github.com/users/blessyezi/following{/other_user}",
    "gists_url": "https://api.github.com/users/blessyezi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/blessyezi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/blessyezi/subscriptions",
    "organizations_url": "https://api.github.com/users/blessyezi/orgs",
    "repos_url": "https://api.github.com/users/blessyezi/repos",
    "events_url": "https://api.github.com/users/blessyezi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/blessyezi/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": [
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/246099228",
      "html_url": "https://github.com/alibaba/weex/issues/1196#issuecomment-246099228",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1196",
      "id": 246099228,
      "user": {
        "login": "hanai",
        "id": 1222115,
        "avatar_url": "https://avatars3.githubusercontent.com/u/1222115?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hanai",
        "html_url": "https://github.com/hanai",
        "followers_url": "https://api.github.com/users/hanai/followers",
        "following_url": "https://api.github.com/users/hanai/following{/other_user}",
        "gists_url": "https://api.github.com/users/hanai/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hanai/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hanai/subscriptions",
        "organizations_url": "https://api.github.com/users/hanai/orgs",
        "repos_url": "https://api.github.com/users/hanai/repos",
        "events_url": "https://api.github.com/users/hanai/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hanai/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-09-10T08:22:17Z",
      "updated_at": "2016-09-10T08:22:17Z",
      "body": "试试 android 分支吧，那个分支上的 dom 能用\n"
    }
  ],
  "created_at": "2016-09-10T07:04:33Z",
  "updated_at": "2016-09-12T03:10:23Z",
  "closed_at": "2016-09-12T03:10:23Z",
  "body": ".we\n\n```\n<scroller id=\"list\" class=\"content\" style=\"visibility: visible\"></scroller>\n\nready: function(){\n    var self = this;\n    var dom = require('@weex-module/dom');\n    this.$on('topBarItem.onClick',function(e){\n        dom.updateStyle(self.$el('list'),{visibility: 'hidden'});\n    });\n},\n```\n\nlogcat中报updateStyle方法找不到的异常\n\n```\n09-10 14:22:20.450 13395-13427/com.xx.xx.xx E/weex: reportJSException >>>> instanceId:2, exception function:callJS, exception:TypeError: Object [object Object] has no method 'updateStyle'\n09-10 14:22:25.010 13395-13427/com.xx.xx.xx E/jsengine:  ReportException :undefined:106: TypeError: Object [object Object] has no method 'updateStyle'\n09-10 14:22:25.010 13395-13427/com.xx.xx.xx E/jsengine:  ReportException : TypeError: Object [object Object] has no method 'updateStyle'\n                                                                      at Vm.eval (eval at <anonymous> ((weex):2997:17), <anonymous>:106:22)\n                                                                      at (weex):6680:18\n                                                                      at Array.forEach (native)\n                                                                      at (weex):6679:20\n                                                                      at Vm.$emit ((weex):6682:8)\n                                                                      at Vm.$dispatch ((weex):6688:9)\n                                                                      at Vm.$dispatch ((weex):6691:19)\n                                                                      at Vm.$dispatch ((weex):6691:19)\n                                                                      at Vm.__weex_module__.exports.methods.itemClick (eval at <anonymous> ((weex):2997:17), <anonymous>:975:18)\n                                                                      at Node.<anonymous> ((weex):205:55)\n```\n\n然后看了WXDomModule的源码，发现里面的方法并没有添加@WXModuleAnno的注解。官网说扩展module需要添加@WXModuleAnno注解。\n\n```\n  /**\n   * Update {@link WXDomObject#style}\n   * @param ref {@link WXDomObject#ref}\n   * @param style the expected style\n   */\n  public void updateStyle(String ref, JSONObject style) {\n```\n\n另外在WXSDKEngine中也没有对dom模块进行注册。\n\n很奇怪，这个dom模块在安卓上到底能用吗？应该怎么用呢？\n"
}
