{
  "url": "https://api.github.com/repos/alibaba/weex/issues/421",
  "repository_url": "https://api.github.com/repos/alibaba/weex",
  "labels_url": "https://api.github.com/repos/alibaba/weex/issues/421/labels{/name}",
  "comments_url": "https://api.github.com/repos/alibaba/weex/issues/421/comments",
  "events_url": "https://api.github.com/repos/alibaba/weex/issues/421/events",
  "html_url": "https://github.com/alibaba/weex/issues/421",
  "id": 159087860,
  "number": 421,
  "title": "[Discuss] Support viewport config.",
  "user": {
    "login": "luics",
    "id": 1018815,
    "avatar_url": "https://avatars0.githubusercontent.com/u/1018815?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/luics",
    "html_url": "https://github.com/luics",
    "followers_url": "https://api.github.com/users/luics/followers",
    "following_url": "https://api.github.com/users/luics/following{/other_user}",
    "gists_url": "https://api.github.com/users/luics/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/luics/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/luics/subscriptions",
    "organizations_url": "https://api.github.com/users/luics/orgs",
    "repos_url": "https://api.github.com/users/luics/repos",
    "events_url": "https://api.github.com/users/luics/events{/privacy}",
    "received_events_url": "https://api.github.com/users/luics/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 473484279,
      "url": "https://api.github.com/repos/alibaba/weex/labels/new%20feature",
      "name": "new feature",
      "color": "1d76db",
      "default": false
    },
    {
      "id": 550387666,
      "url": "https://api.github.com/repos/alibaba/weex/labels/working%20in%20progress",
      "name": "working in progress",
      "color": "c5def5",
      "default": false
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "Jinjiang",
    "id": 206848,
    "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Jinjiang",
    "html_url": "https://github.com/Jinjiang",
    "followers_url": "https://api.github.com/users/Jinjiang/followers",
    "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
    "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
    "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
    "repos_url": "https://api.github.com/users/Jinjiang/repos",
    "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "Jinjiang",
      "id": 206848,
      "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Jinjiang",
      "html_url": "https://github.com/Jinjiang",
      "followers_url": "https://api.github.com/users/Jinjiang/followers",
      "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
      "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
      "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
      "repos_url": "https://api.github.com/users/Jinjiang/repos",
      "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
      "type": "User",
      "site_admin": false
    },
    {
      "login": "luics",
      "id": 1018815,
      "avatar_url": "https://avatars0.githubusercontent.com/u/1018815?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luics",
      "html_url": "https://github.com/luics",
      "followers_url": "https://api.github.com/users/luics/followers",
      "following_url": "https://api.github.com/users/luics/following{/other_user}",
      "gists_url": "https://api.github.com/users/luics/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luics/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luics/subscriptions",
      "organizations_url": "https://api.github.com/users/luics/orgs",
      "repos_url": "https://api.github.com/users/luics/repos",
      "events_url": "https://api.github.com/users/luics/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luics/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": [
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/226079010",
      "html_url": "https://github.com/alibaba/weex/issues/421#issuecomment-226079010",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/421",
      "id": 226079010,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-06-15T03:28:25Z",
      "updated_at": "2016-06-15T03:28:25Z",
      "body": "We can allow developers to write a instance config: `displayWidth: 750(default) | number | \"deviceWidth\"`.\n\nAt the same time we add the second parameter `displayWidth` in `dom.createBody(element, displayWidth)`. So the renderer will receive it and could do some preparation then.\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/226079686",
      "html_url": "https://github.com/alibaba/weex/issues/421#issuecomment-226079686",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/421",
      "id": 226079686,
      "user": {
        "login": "luics",
        "id": 1018815,
        "avatar_url": "https://avatars0.githubusercontent.com/u/1018815?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luics",
        "html_url": "https://github.com/luics",
        "followers_url": "https://api.github.com/users/luics/followers",
        "following_url": "https://api.github.com/users/luics/following{/other_user}",
        "gists_url": "https://api.github.com/users/luics/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/luics/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/luics/subscriptions",
        "organizations_url": "https://api.github.com/users/luics/orgs",
        "repos_url": "https://api.github.com/users/luics/repos",
        "events_url": "https://api.github.com/users/luics/events{/privacy}",
        "received_events_url": "https://api.github.com/users/luics/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-06-15T03:34:33Z",
      "updated_at": "2016-06-15T03:34:33Z",
      "body": "More properties (like height, *-scale) can be discussed, though width is the key.\n\nhttps://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta\nhttps://drafts.csswg.org/css-device-adapt/#viewport-meta\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/226464748",
      "html_url": "https://github.com/alibaba/weex/issues/421#issuecomment-226464748",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/421",
      "id": 226464748,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-06-16T11:59:18Z",
      "updated_at": "2016-06-16T11:59:18Z",
      "body": "#27 related\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/242269555",
      "html_url": "https://github.com/alibaba/weex/issues/421#issuecomment-242269555",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/421",
      "id": 242269555,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-08-25T03:07:06Z",
      "updated_at": "2016-08-25T03:07:06Z",
      "body": "Another question & advice from @yahooyee is how to let developers get/calculate the width/height of current viewport.\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/242270140",
      "html_url": "https://github.com/alibaba/weex/issues/421#issuecomment-242270140",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/421",
      "id": 242270140,
      "user": {
        "login": "YorkShen",
        "id": 4162544,
        "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/YorkShen",
        "html_url": "https://github.com/YorkShen",
        "followers_url": "https://api.github.com/users/YorkShen/followers",
        "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
        "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
        "organizations_url": "https://api.github.com/users/YorkShen/orgs",
        "repos_url": "https://api.github.com/users/YorkShen/repos",
        "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/YorkShen/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-08-25T03:12:09Z",
      "updated_at": "2016-08-25T03:12:09Z",
      "body": "`displayWidth: 750(default)` will cause serious sub-pixel problems, and there is no way to fix it right now. \n\nFor example, if screen width is 720px, the border in the code snippet won't be display.\n\n```\ndisplayWidth: 750(default) \n\n.a{\n     border-width:1;\n}\n\n<div class=\"a\">\n```\n\nRefer to [DPI](https://developer.android.com/guide/practices/screens_support.html#qualifiers) mechanism in Android, maybe a scale factor(positive, integer, could be 1) which depends on screen width would be a better solution.\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/257284242",
      "html_url": "https://github.com/alibaba/weex/issues/421#issuecomment-257284242",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/421",
      "id": 257284242,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-31T12:44:37Z",
      "updated_at": "2016-10-31T12:44:37Z",
      "body": "Proposal:\n\n### DSL Design\n\nRef: W3C Spec [CSS Device Adaptation](https://drafts.csswg.org/css-device-adapt/#viewport-meta)\n\nAdding item in config script\n\n```\n<script type=\"config\">\n  {\n    \"viewport\": {\n        \"width\": \"device-width\",\n        ...\n    },\n    ...\n  }\n</script>\n```\n\nSupported properties:\n- `width`: number or `\"device-width\"` or `\"device-height\"`\n- `height`: number or `\"device-width\"` or `\"device-height\"`\n- `initial-scale` (not supported)\n- `minimum-scale` (not supported)\n- `maximum-scale` (not supported)\n- `user-scalable` (not supported)\n\n### JS-Native API Design\n- module: `\"dom\"` | `\"instanceWrap\"` (both fine)\n- method: `\"setViewport\"`\n- args: `[viewportObject]` (just same as viewport object in config script)\n\nIt must be called at the beginning of an instance and behind any of other dom method calls, otherwise it will not work.\n\nThis also needs implementation from JS framework and native renderer.\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/257309461",
      "html_url": "https://github.com/alibaba/weex/issues/421#issuecomment-257309461",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/421",
      "id": 257309461,
      "user": {
        "login": "Hanks10100",
        "id": 8401776,
        "avatar_url": "https://avatars3.githubusercontent.com/u/8401776?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Hanks10100",
        "html_url": "https://github.com/Hanks10100",
        "followers_url": "https://api.github.com/users/Hanks10100/followers",
        "following_url": "https://api.github.com/users/Hanks10100/following{/other_user}",
        "gists_url": "https://api.github.com/users/Hanks10100/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Hanks10100/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Hanks10100/subscriptions",
        "organizations_url": "https://api.github.com/users/Hanks10100/orgs",
        "repos_url": "https://api.github.com/users/Hanks10100/repos",
        "events_url": "https://api.github.com/users/Hanks10100/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Hanks10100/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-31T14:33:11Z",
      "updated_at": "2016-11-07T08:31:48Z",
      "body": "**From another perspective, I think we should also add an absolute unit.**\n\nIn the current version, Weex will ignore all style units, if we set the viewport (default is 750), all style values are treated as relative values. If we add an absolute unit, it can be very easy to draw a 1 pixel line ( #27 , #1022 ), and writing non-responsive layouts ( #491 #965 #1543 ).\n\n### There are two candidate units:\n- `pt`, the absolute units used in CSS and iOS.\n- `dp`, the absolute unit used in Android.\n\nI personally think it's more appropriate to use `pt`, because CSS already has this attribute, doing so reduces the learning costs of users and avoids introducing our own concepts.\n\n### Example\n\nDraw a box with one pixel wide border:\n\n``` css\n.box {\n   width: 500;\n   height: 300;\n   border-width: 1pt;\n   border-color: #666666;\n   border-style: solid;\n}}\n```\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/260543477",
      "html_url": "https://github.com/alibaba/weex/issues/421#issuecomment-260543477",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/421",
      "id": 260543477,
      "user": {
        "login": "Hanks10100",
        "id": 8401776,
        "avatar_url": "https://avatars3.githubusercontent.com/u/8401776?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Hanks10100",
        "html_url": "https://github.com/Hanks10100",
        "followers_url": "https://api.github.com/users/Hanks10100/followers",
        "following_url": "https://api.github.com/users/Hanks10100/following{/other_user}",
        "gists_url": "https://api.github.com/users/Hanks10100/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Hanks10100/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Hanks10100/subscriptions",
        "organizations_url": "https://api.github.com/users/Hanks10100/orgs",
        "repos_url": "https://api.github.com/users/Hanks10100/repos",
        "events_url": "https://api.github.com/users/Hanks10100/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Hanks10100/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-15T04:18:43Z",
      "updated_at": "2016-11-15T04:18:43Z",
      "body": "The proposal of CSS units is separated to #1641 .\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/285347371",
      "html_url": "https://github.com/alibaba/weex/issues/421#issuecomment-285347371",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/421",
      "id": 285347371,
      "user": {
        "login": "langxianfu",
        "id": 12893281,
        "avatar_url": "https://avatars1.githubusercontent.com/u/12893281?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/langxianfu",
        "html_url": "https://github.com/langxianfu",
        "followers_url": "https://api.github.com/users/langxianfu/followers",
        "following_url": "https://api.github.com/users/langxianfu/following{/other_user}",
        "gists_url": "https://api.github.com/users/langxianfu/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/langxianfu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/langxianfu/subscriptions",
        "organizations_url": "https://api.github.com/users/langxianfu/orgs",
        "repos_url": "https://api.github.com/users/langxianfu/repos",
        "events_url": "https://api.github.com/users/langxianfu/events{/privacy}",
        "received_events_url": "https://api.github.com/users/langxianfu/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2017-03-09T13:11:48Z",
      "updated_at": "2017-03-09T13:11:48Z",
      "body": "看完了，没看明白 "
    }
  ],
  "created_at": "2016-06-08T06:21:37Z",
  "updated_at": "2017-03-09T13:11:48Z",
  "closed_at": null,
  "body": "750px is used as the default viewport width in weex. It's really convenient in most cases, however, 1 device(fixed) pixel is hard to implement.\n",
  "closed_by": null
}
