{
  "url": "https://api.github.com/repos/alibaba/weex/issues/1383",
  "repository_url": "https://api.github.com/repos/alibaba/weex",
  "labels_url": "https://api.github.com/repos/alibaba/weex/issues/1383/labels{/name}",
  "comments_url": "https://api.github.com/repos/alibaba/weex/issues/1383/comments",
  "events_url": "https://api.github.com/repos/alibaba/weex/issues/1383/events",
  "html_url": "https://github.com/alibaba/weex/issues/1383",
  "id": 182194793,
  "number": 1383,
  "title": "js文件里面如何获取getConfig()？",
  "user": {
    "login": "yfldj",
    "id": 6778148,
    "avatar_url": "https://avatars1.githubusercontent.com/u/6778148?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yfldj",
    "html_url": "https://github.com/yfldj",
    "followers_url": "https://api.github.com/users/yfldj/followers",
    "following_url": "https://api.github.com/users/yfldj/following{/other_user}",
    "gists_url": "https://api.github.com/users/yfldj/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yfldj/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yfldj/subscriptions",
    "organizations_url": "https://api.github.com/users/yfldj/orgs",
    "repos_url": "https://api.github.com/users/yfldj/repos",
    "events_url": "https://api.github.com/users/yfldj/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yfldj/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": [
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/252854539",
      "html_url": "https://github.com/alibaba/weex/issues/1383#issuecomment-252854539",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1383",
      "id": 252854539,
      "user": {
        "login": "jinyue-rdj",
        "id": 19581634,
        "avatar_url": "https://avatars3.githubusercontent.com/u/19581634?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jinyue-rdj",
        "html_url": "https://github.com/jinyue-rdj",
        "followers_url": "https://api.github.com/users/jinyue-rdj/followers",
        "following_url": "https://api.github.com/users/jinyue-rdj/following{/other_user}",
        "gists_url": "https://api.github.com/users/jinyue-rdj/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jinyue-rdj/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jinyue-rdj/subscriptions",
        "organizations_url": "https://api.github.com/users/jinyue-rdj/orgs",
        "repos_url": "https://api.github.com/users/jinyue-rdj/repos",
        "events_url": "https://api.github.com/users/jinyue-rdj/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jinyue-rdj/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-11T09:07:22Z",
      "updated_at": "2016-10-11T09:07:22Z",
      "body": "可以看一下文档，@Jinjiang 答复一下\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/252855965",
      "html_url": "https://github.com/alibaba/weex/issues/1383#issuecomment-252855965",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1383",
      "id": 252855965,
      "user": {
        "login": "fkysly",
        "id": 3274605,
        "avatar_url": "https://avatars1.githubusercontent.com/u/3274605?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fkysly",
        "html_url": "https://github.com/fkysly",
        "followers_url": "https://api.github.com/users/fkysly/followers",
        "following_url": "https://api.github.com/users/fkysly/following{/other_user}",
        "gists_url": "https://api.github.com/users/fkysly/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fkysly/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fkysly/subscriptions",
        "organizations_url": "https://api.github.com/users/fkysly/orgs",
        "repos_url": "https://api.github.com/users/fkysly/repos",
        "events_url": "https://api.github.com/users/fkysly/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fkysly/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-11T09:13:37Z",
      "updated_at": "2016-10-11T09:13:37Z",
      "body": "![image](https://cloud.githubusercontent.com/assets/3274605/19265026/fc5e9616-8fd5-11e6-9769-c6d1f7e2b35c.png)\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/252905703",
      "html_url": "https://github.com/alibaba/weex/issues/1383#issuecomment-252905703",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1383",
      "id": 252905703,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-11T12:42:27Z",
      "updated_at": "2016-10-11T12:42:27Z",
      "body": "抱歉我们目前没有这样的设计，想多了解一下您的实际需求场景，如果希望在 JS 文件里获取页面的配置信息，也可以暴露一个接口，然后从 `*.we` 文件里 `getConfig()` 然后传递到 JS 文件中。\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/253107350",
      "html_url": "https://github.com/alibaba/weex/issues/1383#issuecomment-253107350",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1383",
      "id": 253107350,
      "user": {
        "login": "yfldj",
        "id": 6778148,
        "avatar_url": "https://avatars1.githubusercontent.com/u/6778148?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yfldj",
        "html_url": "https://github.com/yfldj",
        "followers_url": "https://api.github.com/users/yfldj/followers",
        "following_url": "https://api.github.com/users/yfldj/following{/other_user}",
        "gists_url": "https://api.github.com/users/yfldj/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/yfldj/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yfldj/subscriptions",
        "organizations_url": "https://api.github.com/users/yfldj/orgs",
        "repos_url": "https://api.github.com/users/yfldj/repos",
        "events_url": "https://api.github.com/users/yfldj/events{/privacy}",
        "received_events_url": "https://api.github.com/users/yfldj/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-12T03:09:26Z",
      "updated_at": "2016-10-12T03:09:26Z",
      "body": "@Jinjiang 现在我的做法就是像你这样说的去做。我的场景是这样的，因为要做UI适配，要用到scale和屏幕宽度，我现在是.we调用js的一个公共方法获得经过转换的像素值，不想每次都传Config到js里面。还有，顺便问一下有没有什么方便的方法做UI适配？现在我的做法是在.we定义一个样式变量，绑定到style中，然后动态计算出这个样式变量去做适配，感觉这样有点麻烦。\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/253107730",
      "html_url": "https://github.com/alibaba/weex/issues/1383#issuecomment-253107730",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1383",
      "id": 253107730,
      "user": {
        "login": "yfldj",
        "id": 6778148,
        "avatar_url": "https://avatars1.githubusercontent.com/u/6778148?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yfldj",
        "html_url": "https://github.com/yfldj",
        "followers_url": "https://api.github.com/users/yfldj/followers",
        "following_url": "https://api.github.com/users/yfldj/following{/other_user}",
        "gists_url": "https://api.github.com/users/yfldj/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/yfldj/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yfldj/subscriptions",
        "organizations_url": "https://api.github.com/users/yfldj/orgs",
        "repos_url": "https://api.github.com/users/yfldj/repos",
        "events_url": "https://api.github.com/users/yfldj/events{/privacy}",
        "received_events_url": "https://api.github.com/users/yfldj/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-12T03:12:42Z",
      "updated_at": "2016-10-12T03:12:42Z",
      "body": "@Jinjiang 在.we如何调用自定义组件的方法？需要在自定义组件注册？请问具体怎么做？\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/255947360",
      "html_url": "https://github.com/alibaba/weex/issues/1383#issuecomment-255947360",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1383",
      "id": 255947360,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-25T06:23:23Z",
      "updated_at": "2016-10-25T06:24:45Z",
      "body": "UI 适配我们已经有规划并且在实践了，issues 里有 viewpoint 相关的话题，可以简单搜索关注一下\n如果你希望在 js 文件里获取 `getConfig()` 的信息，我建议你这样：\n\n``` javascript\nvar config = {}\nexports.setConfig = function (cfg) {\n  config = cfg\n}\n\n// do something else with `config`\n```\n\n然后在 `*.we` 文件里：\n\n``` vue\n...\n<script>\n  var lib = require('./3rd-lib.js')\n  module.exports = {\n    methods: {\n      foo: function () {\n        var cfg = this.$getConfig()\n        lib.setConfig(cfg)\n        // use the lib\n      }\n    }\n  }\n</script>\n```\n\n还有一些其它用法可以做到相同或类似的事情，属于纯 JavaScript 包管理的命题了，这里不一一列举\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/255947922",
      "html_url": "https://github.com/alibaba/weex/issues/1383#issuecomment-255947922",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1383",
      "id": 255947922,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-25T06:26:55Z",
      "updated_at": "2016-10-25T06:27:33Z",
      "body": "在.we如何调用自定义组件的方法，可以先查阅 http://alibaba.github.io/weex/doc/syntax/comm.html 或 https://github.com/weexteam/article/issues/16\n如果还有问题可以另开 issue，js 获取 config 的问题可以在这里继续讨论\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/258729923",
      "html_url": "https://github.com/alibaba/weex/issues/1383#issuecomment-258729923",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1383",
      "id": 258729923,
      "user": {
        "login": "Jam1zhu",
        "id": 21252750,
        "avatar_url": "https://avatars2.githubusercontent.com/u/21252750?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jam1zhu",
        "html_url": "https://github.com/Jam1zhu",
        "followers_url": "https://api.github.com/users/Jam1zhu/followers",
        "following_url": "https://api.github.com/users/Jam1zhu/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jam1zhu/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jam1zhu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jam1zhu/subscriptions",
        "organizations_url": "https://api.github.com/users/Jam1zhu/orgs",
        "repos_url": "https://api.github.com/users/Jam1zhu/repos",
        "events_url": "https://api.github.com/users/Jam1zhu/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jam1zhu/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-07T01:47:15Z",
      "updated_at": "2016-11-07T01:47:15Z",
      "body": "怎么在父级组件调用子级组件的函数？\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/260864712",
      "html_url": "https://github.com/alibaba/weex/issues/1383#issuecomment-260864712",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1383",
      "id": 260864712,
      "user": {
        "login": "yfldj",
        "id": 6778148,
        "avatar_url": "https://avatars1.githubusercontent.com/u/6778148?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yfldj",
        "html_url": "https://github.com/yfldj",
        "followers_url": "https://api.github.com/users/yfldj/followers",
        "following_url": "https://api.github.com/users/yfldj/following{/other_user}",
        "gists_url": "https://api.github.com/users/yfldj/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/yfldj/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yfldj/subscriptions",
        "organizations_url": "https://api.github.com/users/yfldj/orgs",
        "repos_url": "https://api.github.com/users/yfldj/repos",
        "events_url": "https://api.github.com/users/yfldj/events{/privacy}",
        "received_events_url": "https://api.github.com/users/yfldj/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-16T06:25:31Z",
      "updated_at": "2016-11-16T06:25:31Z",
      "body": "@Jinjiang 我说的在.we如何调用自定义组件是指we调用原生写的自定义组件。\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/261437956",
      "html_url": "https://github.com/alibaba/weex/issues/1383#issuecomment-261437956",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1383",
      "id": 261437956,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-18T03:10:32Z",
      "updated_at": "2016-11-18T03:10:57Z",
      "body": "没有完全明白你说的“调用”是什么意思？可否解释一下或举个例子\np.s. 这个问题已经和这个 issue 本身无关了，建议另开一个 issue 讨论\n"
    }
  ],
  "created_at": "2016-10-11T07:45:06Z",
  "updated_at": "2016-11-18T03:10:57Z",
  "closed_at": "2016-10-27T01:18:55Z",
  "body": "var env = this.$getConfig().env; 这个API怎么用在js文件里面？\n\n就是在js文件里面如何获取getConfig()？？？\n",
  "closed_by": {
    "login": "Jinjiang",
    "id": 206848,
    "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Jinjiang",
    "html_url": "https://github.com/Jinjiang",
    "followers_url": "https://api.github.com/users/Jinjiang/followers",
    "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
    "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
    "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
    "repos_url": "https://api.github.com/users/Jinjiang/repos",
    "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
    "type": "User",
    "site_admin": false
  }
}
