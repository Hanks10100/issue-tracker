{
  "url": "https://api.github.com/repos/alibaba/weex/issues/1460",
  "repository_url": "https://api.github.com/repos/alibaba/weex",
  "labels_url": "https://api.github.com/repos/alibaba/weex/issues/1460/labels{/name}",
  "comments_url": "https://api.github.com/repos/alibaba/weex/issues/1460/comments",
  "events_url": "https://api.github.com/repos/alibaba/weex/issues/1460/events",
  "html_url": "https://github.com/alibaba/weex/issues/1460",
  "id": 183973793,
  "number": 1460,
  "title": "Android 由0.7升级为0.8报wx_create_instance_error",
  "user": {
    "login": "wqd1994",
    "id": 17613111,
    "avatar_url": "https://avatars1.githubusercontent.com/u/17613111?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wqd1994",
    "html_url": "https://github.com/wqd1994",
    "followers_url": "https://api.github.com/users/wqd1994/followers",
    "following_url": "https://api.github.com/users/wqd1994/following{/other_user}",
    "gists_url": "https://api.github.com/users/wqd1994/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wqd1994/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wqd1994/subscriptions",
    "organizations_url": "https://api.github.com/users/wqd1994/orgs",
    "repos_url": "https://api.github.com/users/wqd1994/repos",
    "events_url": "https://api.github.com/users/wqd1994/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wqd1994/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "YorkShen",
    "id": 4162544,
    "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/YorkShen",
    "html_url": "https://github.com/YorkShen",
    "followers_url": "https://api.github.com/users/YorkShen/followers",
    "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
    "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
    "organizations_url": "https://api.github.com/users/YorkShen/orgs",
    "repos_url": "https://api.github.com/users/YorkShen/repos",
    "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
    "received_events_url": "https://api.github.com/users/YorkShen/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "YorkShen",
      "id": 4162544,
      "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/YorkShen",
      "html_url": "https://github.com/YorkShen",
      "followers_url": "https://api.github.com/users/YorkShen/followers",
      "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
      "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
      "organizations_url": "https://api.github.com/users/YorkShen/orgs",
      "repos_url": "https://api.github.com/users/YorkShen/repos",
      "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/YorkShen/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": [
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/255951091",
      "html_url": "https://github.com/alibaba/weex/issues/1460#issuecomment-255951091",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1460",
      "id": 255951091,
      "user": {
        "login": "YorkShen",
        "id": 4162544,
        "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/YorkShen",
        "html_url": "https://github.com/YorkShen",
        "followers_url": "https://api.github.com/users/YorkShen/followers",
        "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
        "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
        "organizations_url": "https://api.github.com/users/YorkShen/orgs",
        "repos_url": "https://api.github.com/users/YorkShen/repos",
        "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/YorkShen/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-25T06:46:36Z",
      "updated_at": "2016-10-25T06:46:36Z",
      "body": "提供一些源代码和复现路径 @wqd1994 \n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/256224046",
      "html_url": "https://github.com/alibaba/weex/issues/1460#issuecomment-256224046",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1460",
      "id": 256224046,
      "user": {
        "login": "wqd1994",
        "id": 17613111,
        "avatar_url": "https://avatars1.githubusercontent.com/u/17613111?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/wqd1994",
        "html_url": "https://github.com/wqd1994",
        "followers_url": "https://api.github.com/users/wqd1994/followers",
        "following_url": "https://api.github.com/users/wqd1994/following{/other_user}",
        "gists_url": "https://api.github.com/users/wqd1994/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/wqd1994/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/wqd1994/subscriptions",
        "organizations_url": "https://api.github.com/users/wqd1994/orgs",
        "repos_url": "https://api.github.com/users/wqd1994/repos",
        "events_url": "https://api.github.com/users/wqd1994/events{/privacy}",
        "received_events_url": "https://api.github.com/users/wqd1994/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-26T01:18:16Z",
      "updated_at": "2016-10-26T01:18:16Z",
      "body": "// compile 'com.taobao.android:weex_sdk:0.7.0@aar'\ncompile 'com.taobao.android:weex_sdk:0.8.0.2'\ncompile 'com.taobao.android:weex_inspector:0.0.2.7'\n\n我在之前的开发中用的上一个版本，现在我将weex Android 版本升级为0.8 ,这时候页面加载不出来，我打印了erroCode 和erroMsg 分别为 wx_create_instance_error 和createInstance fail! @YorkShen \n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/256235310",
      "html_url": "https://github.com/alibaba/weex/issues/1460#issuecomment-256235310",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1460",
      "id": 256235310,
      "user": {
        "login": "YorkShen",
        "id": 4162544,
        "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/YorkShen",
        "html_url": "https://github.com/YorkShen",
        "followers_url": "https://api.github.com/users/YorkShen/followers",
        "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
        "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
        "organizations_url": "https://api.github.com/users/YorkShen/orgs",
        "repos_url": "https://api.github.com/users/YorkShen/repos",
        "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/YorkShen/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-26T02:44:20Z",
      "updated_at": "2016-10-26T02:44:20Z",
      "body": "需要更详细的日志或者源代码 @wqd1994 \n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/256271887",
      "html_url": "https://github.com/alibaba/weex/issues/1460#issuecomment-256271887",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1460",
      "id": 256271887,
      "user": {
        "login": "wqd1994",
        "id": 17613111,
        "avatar_url": "https://avatars1.githubusercontent.com/u/17613111?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/wqd1994",
        "html_url": "https://github.com/wqd1994",
        "followers_url": "https://api.github.com/users/wqd1994/followers",
        "following_url": "https://api.github.com/users/wqd1994/following{/other_user}",
        "gists_url": "https://api.github.com/users/wqd1994/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/wqd1994/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/wqd1994/subscriptions",
        "organizations_url": "https://api.github.com/users/wqd1994/orgs",
        "repos_url": "https://api.github.com/users/wqd1994/repos",
        "events_url": "https://api.github.com/users/wqd1994/events{/privacy}",
        "received_events_url": "https://api.github.com/users/wqd1994/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-26T07:36:36Z",
      "updated_at": "2016-10-26T07:36:36Z",
      "body": "import android.content.Context;\nimport android.graphics.Rect;\nimport android.os.Bundle;\nimport android.support.annotation.Nullable;\nimport android.support.v7.app.AppCompatActivity;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.FrameLayout;\nimport com.taobao.weex.IWXRenderListener;\nimport com.taobao.weex.WXSDKInstance;\nimport com.taobao.weex.common.WXRenderStrategy;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n/**\n- Created by wqd on 16-9-26.\n  */\n\npublic abstract class IWXBaseActivity extends BaseActivity implements IWXRenderListener{\n    public WXSDKInstance mWXSDKInstance;\n    public ViewGroup mContainer;\n\n```\nprivate static final String TAG = \"IWXBaseActivity\";\n\n\n@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContainer((ViewGroup) findViewById(bindContainerId()));\n    createWeexInstance();\n    mWXSDKInstance.onActivityCreate();\n    initWidget();\n    setListener();\n    loadData();\n\n}\npublic void onWxActivityResume(){\n    if(mWXSDKInstance!=null){\n        mWXSDKInstance.onActivityResume();\n    }\n}\npublic void onWxActivityPause(){\n    if(mWXSDKInstance!=null){\n        mWXSDKInstance.onActivityPause();\n    }\n}\npublic void onWxActivityStop(){\n    if(mWXSDKInstance!=null){\n        mWXSDKInstance.onActivityStop();\n    }\n}\npublic void onWxActivityDestory(){\n    if(mWXSDKInstance!=null){\n        mWXSDKInstance.onActivityDestroy();\n    }\n}\npublic void onWxActivityStart(){\n    if(mWXSDKInstance!=null){\n        mWXSDKInstance.onActivityStart();\n    }\n}\nprotected final void setContainer(ViewGroup container){\n    mContainer = container;\n}\n\nprotected final ViewGroup getContainer(){\n    return mContainer;\n}\n\nprotected void createWeexInstance(){\n    destoryWeexInstance();\n\n    Rect outRect = new Rect();\n    getWindow().getDecorView().getWindowVisibleDisplayFrame(outRect);\n\n    mWXSDKInstance = new WXSDKInstance(this);\n    mWXSDKInstance.registerRenderListener(this);\n}\n\n\nprotected void destoryWeexInstance(){\n    if(mWXSDKInstance != null){\n        mWXSDKInstance.registerRenderListener(null);\n        mWXSDKInstance.destroy();\n        mWXSDKInstance = null;\n    }\n}\n\npublic void renderPage(String template,String source){\n    renderPage(template,source,null);\n}\n\nprotected String getPageName(){\n    return TAG;\n}\n\nprotected void renderPage(String template,String source,String jsonInitData){\n    Map<String, Object> options = new HashMap<>();\n    options.put(WXSDKInstance.BUNDLE_URL, source);\n    mWXSDKInstance.render(\n            getPageName(),\n            template,\n            options,\n            jsonInitData,\n            ScreenUtil.getDisplayWidth(this),\n            ScreenUtil.getDisplayHeight(this),\n            WXRenderStrategy.APPEND_ASYNC);\n}\npublic void renderPageByURL(String url){\n    renderPageByURL(url,null);\n}\n\nprotected void renderPageByURL(String url,String jsonInitData){\n    Map<String, Object> options = new HashMap<>();\n    options.put(WXSDKInstance.BUNDLE_URL, url);\n    mWXSDKInstance.renderByUrl(\n            getPageName(),\n            url,\n            options,\n            jsonInitData,\n            ScreenUtil.getDisplayWidth(this),\n            ScreenUtil.getDisplayHeight(this),\n            WXRenderStrategy.APPEND_ASYNC);\n}\n\n@Override\npublic void onViewCreated(WXSDKInstance instance, View view) {\n    if (mContainer != null) {\n        mContainer.removeAllViews();\n        mContainer.addView(view);\n    }\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n    onWxActivityStart();\n\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    onWxActivityResume();\n\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    onWxActivityPause();\n}\n\n@Override\nprotected void onStop() {\n    super.onStop();\n    onWxActivityStop();\n}\n\n@Override\nprotected void onDestroy() {\n    super.onDestroy();\n    onWxActivityDestory();\n}\npublic abstract int bindContainerId();\npublic abstract void initWidget();\n\npublic abstract void loadData();\n\npublic abstract void setListener();\n```\n\n}\n加载Weex的基类，\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.util.Log;\nimport android.view.Gravity;\nimport com.jzxiang.pickerview.TimePickerDialog;\nimport com.jzxiang.pickerview.listener.OnDateSetListener;\nimport com.taobao.weex.WXSDKInstance;\nimport com.taobao.weex.utils.WXFileUtils;\n\npublic class IndexActivcity extends IWXTitleBarActivity implements OnDateSetListener {\n    public ServiceTimePopup popup;\n    public ProvincePopup provincePopup;\n\n```\n@Override\npublic int bindLayout() {\n    return R.layout.activity_index;\n}\n\n@Override\npublic int bindContainerId() {\n    return R.id.index_container;\n}\n\n@Override\npublic void initWidget() {\n    setTitleBarText(\"测试\");\n}\n\n@Override\npublic void loadData() {\n    renderPage(WXFileUtils.loadAsset(\"tech_list.js\", mContext), \"\");\n}\n\n@Override\npublic void setListener() {\n\n}\n\n@Override\npublic void onRenderSuccess(WXSDKInstance instance, int width, int height) {\n\n}\n\n@Override\npublic void onRefreshSuccess(WXSDKInstance instance, int width, int height) {\n\n}\n\n@Override\npublic void onException(WXSDKInstance instance, String errCode, String msg) {\n    if (!TextUtils.isEmpty(errCode)) {\n        Log.i(\"adolph\", errCode);\n    }\n}\n\n@Override\nprotected void onDestroy() {\n    super.onDestroy();\n}\n\n\n@Override\npublic void onDateSet(TimePickerDialog timePickerView, long millseconds) {\n\n}\n```\n\n}\n这是加载Weex 的界面，我在使用0.0.7的SDK的时候没有问题，升级0.8之后出现的异常，之前正常使用。\n谢谢了。\n@YorkShen \n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/256357617",
      "html_url": "https://github.com/alibaba/weex/issues/1460#issuecomment-256357617",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1460",
      "id": 256357617,
      "user": {
        "login": "YorkShen",
        "id": 4162544,
        "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/YorkShen",
        "html_url": "https://github.com/YorkShen",
        "followers_url": "https://api.github.com/users/YorkShen/followers",
        "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
        "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
        "organizations_url": "https://api.github.com/users/YorkShen/orgs",
        "repos_url": "https://api.github.com/users/YorkShen/repos",
        "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/YorkShen/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-26T14:05:18Z",
      "updated_at": "2016-10-26T14:05:18Z",
      "body": "@wqd1994 \n- 代码不完整，无法复现问题\n- 代码麻烦格式化下\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/256526004",
      "html_url": "https://github.com/alibaba/weex/issues/1460#issuecomment-256526004",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1460",
      "id": 256526004,
      "user": {
        "login": "wqd1994",
        "id": 17613111,
        "avatar_url": "https://avatars1.githubusercontent.com/u/17613111?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/wqd1994",
        "html_url": "https://github.com/wqd1994",
        "followers_url": "https://api.github.com/users/wqd1994/followers",
        "following_url": "https://api.github.com/users/wqd1994/following{/other_user}",
        "gists_url": "https://api.github.com/users/wqd1994/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/wqd1994/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/wqd1994/subscriptions",
        "organizations_url": "https://api.github.com/users/wqd1994/orgs",
        "repos_url": "https://api.github.com/users/wqd1994/repos",
        "events_url": "https://api.github.com/users/wqd1994/events{/privacy}",
        "received_events_url": "https://api.github.com/users/wqd1994/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-27T01:54:15Z",
      "updated_at": "2016-10-27T01:54:15Z",
      "body": "解决了，是我在android中引用了jack，导致weex出问题，我把jack去掉就好了 @YorkShen 谢谢了。\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/256625037",
      "html_url": "https://github.com/alibaba/weex/issues/1460#issuecomment-256625037",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1460",
      "id": 256625037,
      "user": {
        "login": "YorkShen",
        "id": 4162544,
        "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/YorkShen",
        "html_url": "https://github.com/YorkShen",
        "followers_url": "https://api.github.com/users/YorkShen/followers",
        "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
        "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
        "organizations_url": "https://api.github.com/users/YorkShen/orgs",
        "repos_url": "https://api.github.com/users/YorkShen/repos",
        "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/YorkShen/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-27T12:17:59Z",
      "updated_at": "2016-10-27T12:18:09Z",
      "body": "@wqd1994 我试了一下，目前weex playground是支持jack编译链，运行没有发生问题，你是用了jack的特性导致了问题？\n"
    }
  ],
  "created_at": "2016-10-19T14:14:10Z",
  "updated_at": "2016-10-27T12:18:09Z",
  "closed_at": "2016-10-27T02:33:29Z",
  "body": "今天我在升级Android Weex 版本时，出现wx_create_instance_error问题，方法还是用的以前0.7的方法，请问在升级0.8之后有较大的改动吗？\n"
}
