{
  "url": "https://api.github.com/repos/alibaba/weex/issues/1569",
  "repository_url": "https://api.github.com/repos/alibaba/weex",
  "labels_url": "https://api.github.com/repos/alibaba/weex/issues/1569/labels{/name}",
  "comments_url": "https://api.github.com/repos/alibaba/weex/issues/1569/comments",
  "events_url": "https://api.github.com/repos/alibaba/weex/issues/1569/events",
  "html_url": "https://github.com/alibaba/weex/issues/1569",
  "id": 186992837,
  "number": 1569,
  "title": "Promise 在 html5 端的问题",
  "user": {
    "login": "lmnsg",
    "id": 10400425,
    "avatar_url": "https://avatars2.githubusercontent.com/u/10400425?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lmnsg",
    "html_url": "https://github.com/lmnsg",
    "followers_url": "https://api.github.com/users/lmnsg/followers",
    "following_url": "https://api.github.com/users/lmnsg/following{/other_user}",
    "gists_url": "https://api.github.com/users/lmnsg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lmnsg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lmnsg/subscriptions",
    "organizations_url": "https://api.github.com/users/lmnsg/orgs",
    "repos_url": "https://api.github.com/users/lmnsg/repos",
    "events_url": "https://api.github.com/users/lmnsg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lmnsg/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 339914709,
      "url": "https://api.github.com/repos/alibaba/weex/labels/help%20wanted",
      "name": "help wanted",
      "color": "159818",
      "default": true
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": [
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/258078179",
      "html_url": "https://github.com/alibaba/weex/issues/1569#issuecomment-258078179",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1569",
      "id": 258078179,
      "user": {
        "login": "lmnsg",
        "id": 10400425,
        "avatar_url": "https://avatars2.githubusercontent.com/u/10400425?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lmnsg",
        "html_url": "https://github.com/lmnsg",
        "followers_url": "https://api.github.com/users/lmnsg/followers",
        "following_url": "https://api.github.com/users/lmnsg/following{/other_user}",
        "gists_url": "https://api.github.com/users/lmnsg/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/lmnsg/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lmnsg/subscriptions",
        "organizations_url": "https://api.github.com/users/lmnsg/orgs",
        "repos_url": "https://api.github.com/users/lmnsg/repos",
        "events_url": "https://api.github.com/users/lmnsg/events{/privacy}",
        "received_events_url": "https://api.github.com/users/lmnsg/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-03T07:30:50Z",
      "updated_at": "2016-11-03T07:31:16Z",
      "body": "我目前的解决方案是显式的调用 window.Promise ,  new window.Promise()\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/258095699",
      "html_url": "https://github.com/alibaba/weex/issues/1569#issuecomment-258095699",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1569",
      "id": 258095699,
      "user": {
        "login": "MrRaindrop",
        "id": 1545874,
        "avatar_url": "https://avatars3.githubusercontent.com/u/1545874?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MrRaindrop",
        "html_url": "https://github.com/MrRaindrop",
        "followers_url": "https://api.github.com/users/MrRaindrop/followers",
        "following_url": "https://api.github.com/users/MrRaindrop/following{/other_user}",
        "gists_url": "https://api.github.com/users/MrRaindrop/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/MrRaindrop/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/MrRaindrop/subscriptions",
        "organizations_url": "https://api.github.com/users/MrRaindrop/orgs",
        "repos_url": "https://api.github.com/users/MrRaindrop/repos",
        "events_url": "https://api.github.com/users/MrRaindrop/events{/privacy}",
        "received_events_url": "https://api.github.com/users/MrRaindrop/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-03T09:28:20Z",
      "updated_at": "2016-11-03T09:40:54Z",
      "body": "你是不是引入了 promise polyfill ? 其实不需要这个一步，因为 weex 的 jsframework 已经加了这个。相反你应该去掉这个 polyfill 因为部分 polyfill 里用到了 document 但是在 weex 的运行环境里 document 并不是浏览器里的那个 document ，用了反而会引起报错.\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/258127013",
      "html_url": "https://github.com/alibaba/weex/issues/1569#issuecomment-258127013",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1569",
      "id": 258127013,
      "user": {
        "login": "lmnsg",
        "id": 10400425,
        "avatar_url": "https://avatars2.githubusercontent.com/u/10400425?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lmnsg",
        "html_url": "https://github.com/lmnsg",
        "followers_url": "https://api.github.com/users/lmnsg/followers",
        "following_url": "https://api.github.com/users/lmnsg/following{/other_user}",
        "gists_url": "https://api.github.com/users/lmnsg/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/lmnsg/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lmnsg/subscriptions",
        "organizations_url": "https://api.github.com/users/lmnsg/orgs",
        "repos_url": "https://api.github.com/users/lmnsg/repos",
        "events_url": "https://api.github.com/users/lmnsg/events{/privacy}",
        "received_events_url": "https://api.github.com/users/lmnsg/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-03T12:17:00Z",
      "updated_at": "2016-11-03T12:17:00Z",
      "body": "@MrRaindrop  因为 webpack 使用 babel-runtime 编译的时候会自动引入 这个 polyfill, 有什么方法可以解决么\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/258154198",
      "html_url": "https://github.com/alibaba/weex/issues/1569#issuecomment-258154198",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1569",
      "id": 258154198,
      "user": {
        "login": "MrRaindrop",
        "id": 1545874,
        "avatar_url": "https://avatars3.githubusercontent.com/u/1545874?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MrRaindrop",
        "html_url": "https://github.com/MrRaindrop",
        "followers_url": "https://api.github.com/users/MrRaindrop/followers",
        "following_url": "https://api.github.com/users/MrRaindrop/following{/other_user}",
        "gists_url": "https://api.github.com/users/MrRaindrop/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/MrRaindrop/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/MrRaindrop/subscriptions",
        "organizations_url": "https://api.github.com/users/MrRaindrop/orgs",
        "repos_url": "https://api.github.com/users/MrRaindrop/repos",
        "events_url": "https://api.github.com/users/MrRaindrop/events{/privacy}",
        "received_events_url": "https://api.github.com/users/MrRaindrop/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-03T14:15:45Z",
      "updated_at": "2016-11-03T14:15:45Z",
      "body": "不要太依赖 babel-runtime，如果需要 es6 的某些 polyfill 建议可以单独引入一些类似 [core-js](https://github.com/zloirock/core-js) 或者 [regenerator](https://github.com/facebook/regenerator) 这样的库。\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/258337700",
      "html_url": "https://github.com/alibaba/weex/issues/1569#issuecomment-258337700",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1569",
      "id": 258337700,
      "user": {
        "login": "lmnsg",
        "id": 10400425,
        "avatar_url": "https://avatars2.githubusercontent.com/u/10400425?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lmnsg",
        "html_url": "https://github.com/lmnsg",
        "followers_url": "https://api.github.com/users/lmnsg/followers",
        "following_url": "https://api.github.com/users/lmnsg/following{/other_user}",
        "gists_url": "https://api.github.com/users/lmnsg/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/lmnsg/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lmnsg/subscriptions",
        "organizations_url": "https://api.github.com/users/lmnsg/orgs",
        "repos_url": "https://api.github.com/users/lmnsg/repos",
        "events_url": "https://api.github.com/users/lmnsg/events{/privacy}",
        "received_events_url": "https://api.github.com/users/lmnsg/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-04T03:37:25Z",
      "updated_at": "2016-11-04T03:37:25Z",
      "body": "恩，我删除掉了 runtime , 不过还是建议 weex 不要去篡改 浏览器的 document 对象...\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/258341809",
      "html_url": "https://github.com/alibaba/weex/issues/1569#issuecomment-258341809",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1569",
      "id": 258341809,
      "user": {
        "login": "lmnsg",
        "id": 10400425,
        "avatar_url": "https://avatars2.githubusercontent.com/u/10400425?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lmnsg",
        "html_url": "https://github.com/lmnsg",
        "followers_url": "https://api.github.com/users/lmnsg/followers",
        "following_url": "https://api.github.com/users/lmnsg/following{/other_user}",
        "gists_url": "https://api.github.com/users/lmnsg/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/lmnsg/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lmnsg/subscriptions",
        "organizations_url": "https://api.github.com/users/lmnsg/orgs",
        "repos_url": "https://api.github.com/users/lmnsg/repos",
        "events_url": "https://api.github.com/users/lmnsg/events{/privacy}",
        "received_events_url": "https://api.github.com/users/lmnsg/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-04T04:19:35Z",
      "updated_at": "2016-11-04T04:19:35Z",
      "body": "删除掉 runtiem 后之前很多代码都爆掉了，可以把标签改一下么..  建议再考虑考虑这个问题\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/261701704",
      "html_url": "https://github.com/alibaba/weex/issues/1569#issuecomment-261701704",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1569",
      "id": 261701704,
      "user": {
        "login": "MrRaindrop",
        "id": 1545874,
        "avatar_url": "https://avatars3.githubusercontent.com/u/1545874?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MrRaindrop",
        "html_url": "https://github.com/MrRaindrop",
        "followers_url": "https://api.github.com/users/MrRaindrop/followers",
        "following_url": "https://api.github.com/users/MrRaindrop/following{/other_user}",
        "gists_url": "https://api.github.com/users/MrRaindrop/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/MrRaindrop/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/MrRaindrop/subscriptions",
        "organizations_url": "https://api.github.com/users/MrRaindrop/orgs",
        "repos_url": "https://api.github.com/users/MrRaindrop/repos",
        "events_url": "https://api.github.com/users/MrRaindrop/events{/privacy}",
        "received_events_url": "https://api.github.com/users/MrRaindrop/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-19T08:43:08Z",
      "updated_at": "2016-11-19T08:43:08Z",
      "body": "@lmnsg 这边是有计划做改动的，目前最新版本应该已经做了，不确定是否已经合并到 dev 分支。 @Jinjiang @fkysly \n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/261827680",
      "html_url": "https://github.com/alibaba/weex/issues/1569#issuecomment-261827680",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1569",
      "id": 261827680,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-21T02:25:27Z",
      "updated_at": "2016-11-21T02:25:27Z",
      "body": "@lmnsg #1637 已经修复了这个问题，再新的 JS Framework 版本应该不会有这个问题了\r\n谢谢"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/263797359",
      "html_url": "https://github.com/alibaba/weex/issues/1569#issuecomment-263797359",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1569",
      "id": 263797359,
      "user": {
        "login": "lmnsg",
        "id": 10400425,
        "avatar_url": "https://avatars2.githubusercontent.com/u/10400425?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lmnsg",
        "html_url": "https://github.com/lmnsg",
        "followers_url": "https://api.github.com/users/lmnsg/followers",
        "following_url": "https://api.github.com/users/lmnsg/following{/other_user}",
        "gists_url": "https://api.github.com/users/lmnsg/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/lmnsg/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lmnsg/subscriptions",
        "organizations_url": "https://api.github.com/users/lmnsg/orgs",
        "repos_url": "https://api.github.com/users/lmnsg/repos",
        "events_url": "https://api.github.com/users/lmnsg/events{/privacy}",
        "received_events_url": "https://api.github.com/users/lmnsg/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-11-30T06:50:17Z",
      "updated_at": "2016-11-30T06:50:17Z",
      "body": "什么时候会更新到 dev 分支呢，或者我怎样可以使用呢"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/264355445",
      "html_url": "https://github.com/alibaba/weex/issues/1569#issuecomment-264355445",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/1569",
      "id": 264355445,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-12-02T02:16:16Z",
      "updated_at": "2016-12-02T02:16:16Z",
      "body": "暂时的话，可以在 jsfm-feature-0.17 分支重新 build 一个 js framework 代码在 native 的 sdk resource 里替换掉"
    }
  ],
  "created_at": "2016-11-03T07:29:31Z",
  "updated_at": "2016-12-02T02:16:16Z",
  "closed_at": "2016-11-21T02:25:27Z",
  "body": "WEEX HTML5: 0.4.0 从 仓库的 dev 分支 dist 出来的。\r\n在任意 js 文件及 we 文件内 new Promise()报错\r\n报错内容如图：\r\n\r\n\r\n猜测是 weex 修改了内置 document 对象导致 babel 内置的 Promise 的 polyfill 调用 document.createTextNode 时报错\r\n![73348f7f-684e-4bcf-9abf-74cbfe60dbe1](https://cloud.githubusercontent.com/assets/10400425/19958457/4a7ce81e-a1da-11e6-8b14-acda920a9b2f.png)\r\n\r\n"
}
