{
  "url": "https://api.github.com/repos/alibaba/weex/issues/86",
  "repository_url": "https://api.github.com/repos/alibaba/weex",
  "labels_url": "https://api.github.com/repos/alibaba/weex/issues/86/labels{/name}",
  "comments_url": "https://api.github.com/repos/alibaba/weex/issues/86/comments",
  "events_url": "https://api.github.com/repos/alibaba/weex/issues/86/events",
  "html_url": "https://github.com/alibaba/weex/issues/86",
  "id": 151066492,
  "number": 86,
  "title": "WXDomStatement is null",
  "user": {
    "login": "lizhangqu",
    "id": 4568646,
    "avatar_url": "https://avatars1.githubusercontent.com/u/4568646?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lizhangqu",
    "html_url": "https://github.com/lizhangqu",
    "followers_url": "https://api.github.com/users/lizhangqu/followers",
    "following_url": "https://api.github.com/users/lizhangqu/following{/other_user}",
    "gists_url": "https://api.github.com/users/lizhangqu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lizhangqu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lizhangqu/subscriptions",
    "organizations_url": "https://api.github.com/users/lizhangqu/orgs",
    "repos_url": "https://api.github.com/users/lizhangqu/repos",
    "events_url": "https://api.github.com/users/lizhangqu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lizhangqu/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "zshshr",
    "id": 5382962,
    "avatar_url": "https://avatars2.githubusercontent.com/u/5382962?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zshshr",
    "html_url": "https://github.com/zshshr",
    "followers_url": "https://api.github.com/users/zshshr/followers",
    "following_url": "https://api.github.com/users/zshshr/following{/other_user}",
    "gists_url": "https://api.github.com/users/zshshr/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zshshr/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zshshr/subscriptions",
    "organizations_url": "https://api.github.com/users/zshshr/orgs",
    "repos_url": "https://api.github.com/users/zshshr/repos",
    "events_url": "https://api.github.com/users/zshshr/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zshshr/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "zshshr",
      "id": 5382962,
      "avatar_url": "https://avatars2.githubusercontent.com/u/5382962?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zshshr",
      "html_url": "https://github.com/zshshr",
      "followers_url": "https://api.github.com/users/zshshr/followers",
      "following_url": "https://api.github.com/users/zshshr/following{/other_user}",
      "gists_url": "https://api.github.com/users/zshshr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zshshr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zshshr/subscriptions",
      "organizations_url": "https://api.github.com/users/zshshr/orgs",
      "repos_url": "https://api.github.com/users/zshshr/repos",
      "events_url": "https://api.github.com/users/zshshr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zshshr/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": [
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/214701961",
      "html_url": "https://github.com/alibaba/weex/issues/86#issuecomment-214701961",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/86",
      "id": 214701961,
      "user": {
        "login": "lizhangqu",
        "id": 4568646,
        "avatar_url": "https://avatars1.githubusercontent.com/u/4568646?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lizhangqu",
        "html_url": "https://github.com/lizhangqu",
        "followers_url": "https://api.github.com/users/lizhangqu/followers",
        "following_url": "https://api.github.com/users/lizhangqu/following{/other_user}",
        "gists_url": "https://api.github.com/users/lizhangqu/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/lizhangqu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lizhangqu/subscriptions",
        "organizations_url": "https://api.github.com/users/lizhangqu/orgs",
        "repos_url": "https://api.github.com/users/lizhangqu/repos",
        "events_url": "https://api.github.com/users/lizhangqu/events{/privacy}",
        "received_events_url": "https://api.github.com/users/lizhangqu/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-04-26T10:56:27Z",
      "updated_at": "2016-04-26T10:56:27Z",
      "body": "i find http://172.18.23.41:12580/examples/build/index.js   is\n\n```\n{\"transformerVersion\":\"0.3.0\"}\n```\n\nbut the file in assets is\n\n```\n{\"transformerVersion\":\"0.1.8\"}\n```\n\nI replace the content with the file in assets，it run .\nBut I use the content which is generated. it doesn't run. \n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/214769691",
      "html_url": "https://github.com/alibaba/weex/issues/86#issuecomment-214769691",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/86",
      "id": 214769691,
      "user": {
        "login": "bsed",
        "id": 10845087,
        "avatar_url": "https://avatars1.githubusercontent.com/u/10845087?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bsed",
        "html_url": "https://github.com/bsed",
        "followers_url": "https://api.github.com/users/bsed/followers",
        "following_url": "https://api.github.com/users/bsed/following{/other_user}",
        "gists_url": "https://api.github.com/users/bsed/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/bsed/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/bsed/subscriptions",
        "organizations_url": "https://api.github.com/users/bsed/orgs",
        "repos_url": "https://api.github.com/users/bsed/repos",
        "events_url": "https://api.github.com/users/bsed/events{/privacy}",
        "received_events_url": "https://api.github.com/users/bsed/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-04-26T14:47:26Z",
      "updated_at": "2016-04-26T14:47:26Z",
      "body": "@lizhangqu  i don't can visit this link [ http://172.18.23.41:12580/examples/build/index.js](http://172.18.23.41:12580/examples/build/index.js)  \n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/214938535",
      "html_url": "https://github.com/alibaba/weex/issues/86#issuecomment-214938535",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/86",
      "id": 214938535,
      "user": {
        "login": "lizhangqu",
        "id": 4568646,
        "avatar_url": "https://avatars1.githubusercontent.com/u/4568646?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lizhangqu",
        "html_url": "https://github.com/lizhangqu",
        "followers_url": "https://api.github.com/users/lizhangqu/followers",
        "following_url": "https://api.github.com/users/lizhangqu/following{/other_user}",
        "gists_url": "https://api.github.com/users/lizhangqu/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/lizhangqu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lizhangqu/subscriptions",
        "organizations_url": "https://api.github.com/users/lizhangqu/orgs",
        "repos_url": "https://api.github.com/users/lizhangqu/repos",
        "events_url": "https://api.github.com/users/lizhangqu/events{/privacy}",
        "received_events_url": "https://api.github.com/users/lizhangqu/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-04-27T01:30:34Z",
      "updated_at": "2016-04-27T01:37:44Z",
      "body": "@d0f  172.18.23.41 is my PC ip，you can't visit，but my android phone can visit it. the content in the link is\n\n```\ndefine('@weex-component/ui-list-item', function (require, exports, module) {\n\n;\n  module.exports = {\n    data: function () {return {\n      bgColor: '#ffffff',\n      click: function() {\n      }\n    }},\n    methods: {\n      touchstart: function() {\n        // TODO adaptive opposite bgColor\n//        this.bgColor = '#e6e6e6';\n      },\n      touchend: function() {\n//        this.bgColor = '#ffffff';\n      }\n    }\n  }\n\n\n;module.exports.style = {\n  \"item\": {\n    \"paddingTop\": 25,\n    \"paddingBottom\": 25,\n    \"paddingLeft\": 35,\n    \"paddingRight\": 35,\n    \"height\": 160,\n    \"justifyContent\": \"center\",\n    \"borderBottomWidth\": 1,\n    \"borderColor\": \"#dddddd\"\n  }\n}\n\n;module.exports.template = {\n  \"type\": \"div\",\n  \"classList\": [\n    \"item\"\n  ],\n  \"events\": {\n    \"click\": \"click\",\n    \"touchstart\": \"touchstart\",\n    \"touchend\": \"touchend\"\n  },\n  \"style\": {\n    \"backgroundColor\": function () {return this.bgColor}\n  },\n  \"children\": [\n    {\n      \"type\": \"content\"\n    }\n  ]\n}\n\n;})\n\n// module\n\ndefine('@weex-component/indexitem', function (require, exports, module) {\n\n;\n  module.exports = {\n    data: function () {return {\n      title: '',\n      url: ''\n    }},\n    methods: {\n      redirect: function() {\n        this.$openURL(this.url);\n      }\n    }\n  }\n\n\n;module.exports.style = {\n  \"item-txt\": {\n    \"fontSize\": 48,\n    \"color\": \"#555555\"\n  }\n}\n\n;module.exports.template = {\n  \"type\": \"ui-list-item\",\n  \"attr\": {\n    \"click\": function () {return this.redirect}\n  },\n  \"children\": [\n    {\n      \"type\": \"text\",\n      \"classList\": [\n        \"item-txt\"\n      ],\n      \"attr\": {\n        \"value\": function () {return this.title}\n      }\n    }\n  ]\n}\n\n;})\n\n// module\n\ndefine('@weex-component/index', function (require, exports, module) {\n\n;\n  module.exports = {\n    data: function () {return {\n      cases: [\n        {name: 'hello', title: 'Hello World'},\n        {name: 'textDemo', title: 'Text'},\n        {name: 'imageDemo', title: 'Image'},\n        {name: 'listBasic', title: 'List (Basic)'},\n        {name: 'listDemo', title: 'List (Advanced)'},\n        {name: 'sliderDemo', title: 'Slider'},\n        {name: 'animation', title: 'Animation'},\n        {name: 'modal', title: 'Modal'},\n        {name: 'videoDemo', title: 'Video'},\n        {name: 'calculator', title: 'Calculator'},\n        {name: 'ui', title: 'UI Gallery'},\n        {name: 'template', title: 'Example Template'}\n      ]\n    }},\n    created: function() {\n      var bundleUrl = this.$getConfig().bundleUrl;\n      console.log('hit', bundleUrl);\n      var nativeBase;\n      var isAndroidAssets = bundleUrl.indexOf('your_current_IP') >= 0;\n      var isiOSAssets = bundleUrl.indexOf('file:///') >= 0 && bundleUrl.indexOf('WeexDemo.app') > 0;\n      if (isAndroidAssets) {\n        nativeBase = 'file://assets/';\n      }\n      else if (isiOSAssets) {\n        // file:///var/mobile/Containers/Bundle/Application/{id}/WeexDemo.app/\n        // file:///Users/{user}/Library/Developer/CoreSimulator/Devices/{id}/data/Containers/Bundle/Application/{id}/WeexDemo.app/\n        nativeBase = bundleUrl.substring(0, bundleUrl.lastIndexOf('/') + 1);\n      }\n      else {\n        var host = 'localhost:12580';\n        var matches = /\\/\\/([^\\/]+?)\\//.exec(this.$getConfig().bundleUrl);\n        if (matches && matches.length >= 2) {\n          host = matches[1];\n        }\n        nativeBase = '//' + host + '/examples/build/';\n      }\n      var h5Base = './index.html?page=./examples/build/';\n      // in Native\n      var base = nativeBase;\n      if (typeof window === 'object') {\n        // in Browser or WebView\n        base = h5Base;\n      }\n\n      for (var i in this.cases) {\n        var ca = this.cases[i];\n        ca.url = base + ca.name + '.js';\n      }\n      // see log in Android Logcat\n      console.log('hit', this.cases[0].url);\n    }\n  }\n\n\n;module.exports.style = {}\n\n;module.exports.template = {\n  \"type\": \"list\",\n  \"children\": [\n    {\n      \"type\": \"cell\",\n      \"append\": \"tree\",\n      \"repeat\": {\n        \"expression\": function () {return this.cases}\n      },\n      \"children\": [\n        {\n          \"type\": \"indexitem\",\n          \"attr\": {\n            \"title\": function () {return this.title},\n            \"url\": function () {return this.url}\n          }\n        }\n      ]\n    }\n  ]\n}\n\n;})\n\n// require module\nbootstrap('@weex-component/index', {\"transformerVersion\":\"0.3.0\"})\n```\n\nit can't be parsed in android,but the content in assets is\n\n```\ndefine('@weex-component/ui-list-item', function (require, exports, module) {\n\n;\n  module.exports = {\n    data: function () {return {\n      bgColor: '#ffffff',\n      click: function() {\n      }\n    }},\n    methods: {\n      touchstart: function() {\n        // TODO adaptive opposite bgColor\n//        this.bgColor = '#e6e6e6';\n      },\n      touchend: function() {\n//        this.bgColor = '#ffffff';\n      }\n    }\n  }\n\n\n;module.exports.style = {\n  \"item\": {\n    \"paddingTop\": 25,\n    \"paddingBottom\": 25,\n    \"paddingLeft\": 35,\n    \"paddingRight\": 35,\n    \"height\": 160,\n    \"justifyContent\": \"center\",\n    \"borderBottomWidth\": 1,\n    \"borderColor\": \"#dddddd\"\n  }\n}\n\n;module.exports.template = {\n  \"type\": \"div\",\n  \"classList\": [\n    \"item\"\n  ],\n  \"events\": {\n    \"click\": \"click\",\n    \"touchstart\": \"touchstart\",\n    \"touchend\": \"touchend\"\n  },\n  \"style\": {\n    \"backgroundColor\": function () {return this.bgColor}\n  },\n  \"children\": [\n    {\n      \"type\": \"content\"\n    }\n  ]\n}\n\n;})\n\n// module\n\ndefine('@weex-component/indexitem', function (require, exports, module) {\n\n;\n  module.exports = {\n    data: function () {return {\n      title: '',\n      url: ''\n    }},\n    methods: {\n      redirect: function() {\n        this.$openURL(this.url);\n      }\n    }\n  }\n\n\n;module.exports.style = {\n  \"item-txt\": {\n    \"fontSize\": 48,\n    \"color\": \"#555555\"\n  }\n}\n\n;module.exports.template = {\n  \"type\": \"ui-list-item\",\n  \"attr\": {\n    \"click\": function () {return this.redirect}\n  },\n  \"children\": [\n    {\n      \"type\": \"text\",\n      \"classList\": [\n        \"item-txt\"\n      ],\n      \"attr\": {\n        \"value\": function () {return this.title}\n      }\n    }\n  ]\n}\n\n;})\n\n// module\n\ndefine('@weex-component/index', function (require, exports, module) {\n\n;\n  module.exports = {\n    data: function () {return {\n      cases: [\n        {name: 'hello', title: 'Hello World'},\n//        {name: 'textDemo', title: 'Text'},\n        {name: 'imageDemo', title: 'Image'},\n        {name: 'listBasic', title: 'List (Basic)'},\n        {name: 'listDemo', title: 'List (Advanced)'},\n        {name: 'sliderDemo', title: 'Slider'},\n        {name: 'animation', title: 'Animation'},\n        {name: 'modal', title: 'Modal'},\n        {name: 'videoDemo', title: 'Video'},\n        {name: 'ui', title: 'UI Gallery'},\n        {name: 'template', title: 'Example Template'}\n      ]\n    }},\n    created: function() {\n      var bundleUrl = this.$getConfig().bundleUrl;\n      console.log('hit', bundleUrl);\n      var nativeBase;\n      if (bundleUrl.indexOf('your_current_IP') >= 0) { \n        // in Android assets\n        nativeBase = 'file://assets/';\n      }\n      else {\n        var host = 'localhost:12580';\n        var matches = /\\/\\/([^\\/]+?)\\//.exec(this.$getConfig().bundleUrl);\n        if (matches && matches.length >= 2) {\n          host = matches[1];\n        }\n        nativeBase = '//' + host + '/examples/build/';\n      }\n      var h5Base = './index.html?page=./examples/build/';\n      // in Native\n      var base = nativeBase;\n      if (typeof window === 'object') {\n        // in Browser or WebView\n        base = h5Base;\n      }\n\n      for (var i in this.cases) {\n        var ca = this.cases[i];\n        ca.url = base + ca.name + '.js';\n      }\n      // see log in Android Logcat\n      console.log('hit', this.cases[0].url);\n    }\n  }\n\n\n;module.exports.style = {}\n\n;module.exports.template = {\n  \"type\": \"list\",\n  \"children\": [\n    {\n      \"type\": \"cell\",\n      \"append\": \"tree\",\n      \"repeat\": function () {return this.cases},\n      \"children\": [\n        {\n          \"type\": \"indexitem\",\n          \"attr\": {\n            \"title\": function () {return this.title},\n            \"url\": function () {return this.url}\n          }\n        }\n      ]\n    }\n  ]\n}\n\n;})\n\n// require module\nbootstrap('@weex-component/index', {\"transformerVersion\":\"0.1.8\"})\n\n```\n\nit can be parsed.\n"
    }
  ],
  "created_at": "2016-04-26T07:47:01Z",
  "updated_at": "2016-04-28T05:04:09Z",
  "closed_at": "2016-04-28T05:04:09Z",
  "body": "In WXDomManager.java  line 493-502\n\n```\n  void createFinish(String instanceId) {\n    if (!isDomThread()) {\n      throw new WXRuntimeException(\"CreateFinish operation must be done in dom thread\");\n    }\n    WXDomStatement statement = mDomRegistries.get(instanceId);\n    if (statement == null) {\n      return;\n    }\n    statement.createFinish();\n  }\n```\n\nrun serve in PC\n\n```\nnpm run serve\n```\n\nmodify CURRENT_IP to PC ip like 172.18.23.41 in  WXMainActivity ,then will call createFinish,but mDomRegistries.get(instanceId) will get null \n"
}
