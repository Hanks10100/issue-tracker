{
  "url": "https://api.github.com/repos/alibaba/weex/issues/835",
  "repository_url": "https://api.github.com/repos/alibaba/weex",
  "labels_url": "https://api.github.com/repos/alibaba/weex/issues/835/labels{/name}",
  "comments_url": "https://api.github.com/repos/alibaba/weex/issues/835/comments",
  "events_url": "https://api.github.com/repos/alibaba/weex/issues/835/events",
  "html_url": "https://github.com/alibaba/weex/issues/835",
  "id": 166734116,
  "number": 835,
  "title": "[Discuss] Proposal to support rich text and view embeding in text",
  "user": {
    "login": "luics",
    "id": 1018815,
    "avatar_url": "https://avatars0.githubusercontent.com/u/1018815?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/luics",
    "html_url": "https://github.com/luics",
    "followers_url": "https://api.github.com/users/luics/followers",
    "following_url": "https://api.github.com/users/luics/following{/other_user}",
    "gists_url": "https://api.github.com/users/luics/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/luics/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/luics/subscriptions",
    "organizations_url": "https://api.github.com/users/luics/orgs",
    "repos_url": "https://api.github.com/users/luics/repos",
    "events_url": "https://api.github.com/users/luics/events{/privacy}",
    "received_events_url": "https://api.github.com/users/luics/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 400980840,
      "url": "https://api.github.com/repos/alibaba/weex/labels/contribution%20welcome",
      "name": "contribution welcome",
      "color": "1d76db",
      "default": false
    },
    {
      "id": 473484279,
      "url": "https://api.github.com/repos/alibaba/weex/labels/new%20feature",
      "name": "new feature",
      "color": "1d76db",
      "default": false
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "sospartan",
    "id": 115201,
    "avatar_url": "https://avatars0.githubusercontent.com/u/115201?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sospartan",
    "html_url": "https://github.com/sospartan",
    "followers_url": "https://api.github.com/users/sospartan/followers",
    "following_url": "https://api.github.com/users/sospartan/following{/other_user}",
    "gists_url": "https://api.github.com/users/sospartan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sospartan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sospartan/subscriptions",
    "organizations_url": "https://api.github.com/users/sospartan/orgs",
    "repos_url": "https://api.github.com/users/sospartan/repos",
    "events_url": "https://api.github.com/users/sospartan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sospartan/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "sospartan",
      "id": 115201,
      "avatar_url": "https://avatars0.githubusercontent.com/u/115201?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sospartan",
      "html_url": "https://github.com/sospartan",
      "followers_url": "https://api.github.com/users/sospartan/followers",
      "following_url": "https://api.github.com/users/sospartan/following{/other_user}",
      "gists_url": "https://api.github.com/users/sospartan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sospartan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sospartan/subscriptions",
      "organizations_url": "https://api.github.com/users/sospartan/orgs",
      "repos_url": "https://api.github.com/users/sospartan/repos",
      "events_url": "https://api.github.com/users/sospartan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sospartan/received_events",
      "type": "User",
      "site_admin": false
    },
    {
      "login": "MrRaindrop",
      "id": 1545874,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1545874?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MrRaindrop",
      "html_url": "https://github.com/MrRaindrop",
      "followers_url": "https://api.github.com/users/MrRaindrop/followers",
      "following_url": "https://api.github.com/users/MrRaindrop/following{/other_user}",
      "gists_url": "https://api.github.com/users/MrRaindrop/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MrRaindrop/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MrRaindrop/subscriptions",
      "organizations_url": "https://api.github.com/users/MrRaindrop/orgs",
      "repos_url": "https://api.github.com/users/MrRaindrop/repos",
      "events_url": "https://api.github.com/users/MrRaindrop/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MrRaindrop/received_events",
      "type": "User",
      "site_admin": false
    },
    {
      "login": "cxfeng1",
      "id": 1625893,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1625893?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cxfeng1",
      "html_url": "https://github.com/cxfeng1",
      "followers_url": "https://api.github.com/users/cxfeng1/followers",
      "following_url": "https://api.github.com/users/cxfeng1/following{/other_user}",
      "gists_url": "https://api.github.com/users/cxfeng1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cxfeng1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cxfeng1/subscriptions",
      "organizations_url": "https://api.github.com/users/cxfeng1/orgs",
      "repos_url": "https://api.github.com/users/cxfeng1/repos",
      "events_url": "https://api.github.com/users/cxfeng1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cxfeng1/received_events",
      "type": "User",
      "site_admin": false
    },
    {
      "login": "YorkShen",
      "id": 4162544,
      "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/YorkShen",
      "html_url": "https://github.com/YorkShen",
      "followers_url": "https://api.github.com/users/YorkShen/followers",
      "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
      "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
      "organizations_url": "https://api.github.com/users/YorkShen/orgs",
      "repos_url": "https://api.github.com/users/YorkShen/repos",
      "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/YorkShen/received_events",
      "type": "User",
      "site_admin": false
    },
    {
      "login": "boboning",
      "id": 18302124,
      "avatar_url": "https://avatars0.githubusercontent.com/u/18302124?v=3",
      "gravatar_id": "",
      "url": "https://api.github.com/users/boboning",
      "html_url": "https://github.com/boboning",
      "followers_url": "https://api.github.com/users/boboning/followers",
      "following_url": "https://api.github.com/users/boboning/following{/other_user}",
      "gists_url": "https://api.github.com/users/boboning/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/boboning/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/boboning/subscriptions",
      "organizations_url": "https://api.github.com/users/boboning/orgs",
      "repos_url": "https://api.github.com/users/boboning/repos",
      "events_url": "https://api.github.com/users/boboning/events{/privacy}",
      "received_events_url": "https://api.github.com/users/boboning/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": [
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/234153032",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-234153032",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 234153032,
      "user": {
        "login": "uixdk",
        "id": 4945130,
        "avatar_url": "https://avatars2.githubusercontent.com/u/4945130?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/uixdk",
        "html_url": "https://github.com/uixdk",
        "followers_url": "https://api.github.com/users/uixdk/followers",
        "following_url": "https://api.github.com/users/uixdk/following{/other_user}",
        "gists_url": "https://api.github.com/users/uixdk/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/uixdk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/uixdk/subscriptions",
        "organizations_url": "https://api.github.com/users/uixdk/orgs",
        "repos_url": "https://api.github.com/users/uixdk/repos",
        "events_url": "https://api.github.com/users/uixdk/events{/privacy}",
        "received_events_url": "https://api.github.com/users/uixdk/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-07-21T04:20:51Z",
      "updated_at": "2016-07-21T04:20:51Z",
      "body": "能不能给点思路啊 ？\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/234153716",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-234153716",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 234153716,
      "user": {
        "login": "luics",
        "id": 1018815,
        "avatar_url": "https://avatars0.githubusercontent.com/u/1018815?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luics",
        "html_url": "https://github.com/luics",
        "followers_url": "https://api.github.com/users/luics/followers",
        "following_url": "https://api.github.com/users/luics/following{/other_user}",
        "gists_url": "https://api.github.com/users/luics/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/luics/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/luics/subscriptions",
        "organizations_url": "https://api.github.com/users/luics/orgs",
        "repos_url": "https://api.github.com/users/luics/repos",
        "events_url": "https://api.github.com/users/luics/events{/privacy}",
        "received_events_url": "https://api.github.com/users/luics/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-07-21T04:26:27Z",
      "updated_at": "2016-07-21T04:26:27Z",
      "body": "@uixdk 浮动准备通过 richtext 支持，我们会尽快把初步方案同步出来\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/235823628",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-235823628",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 235823628,
      "user": {
        "login": "cxfeng1",
        "id": 1625893,
        "avatar_url": "https://avatars2.githubusercontent.com/u/1625893?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cxfeng1",
        "html_url": "https://github.com/cxfeng1",
        "followers_url": "https://api.github.com/users/cxfeng1/followers",
        "following_url": "https://api.github.com/users/cxfeng1/following{/other_user}",
        "gists_url": "https://api.github.com/users/cxfeng1/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cxfeng1/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cxfeng1/subscriptions",
        "organizations_url": "https://api.github.com/users/cxfeng1/orgs",
        "repos_url": "https://api.github.com/users/cxfeng1/repos",
        "events_url": "https://api.github.com/users/cxfeng1/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cxfeng1/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-07-28T07:45:29Z",
      "updated_at": "2016-07-28T07:46:51Z",
      "body": "### 目前需要实现的功能\n1. 不同样式的文字组合排列(支持font-size/font-style/color/background-color/decoration)\n2. 文字中支持内嵌image和a链接\n\n目前有几种方案可供讨论:\n\n### 方案1：改造目前的Text组件\n- 前端使用方式\n\n```\n<text style=\"style1\">\n    some words\n    <text style=\"style2\">some other words</text>\n    <image src=\"image-url\"></image>\n    <a>a link</a>\n<text>\n```\n- js-native 数据交互格式\n\n```\n{\n    ref : xxx,\n    type : text,\n    style : {style1}\n    children : [{\n        ref : xxx, \n        type : text,\n        style : {}, // if no style use super text's style\n        attr : {value:some words}\n    },{\n        ref : xxx, \n        type : text,\n        style : {style2}\n        attr : {value:some other words}\n    },\n    ...\n    ]\n}\n```\n- Native 处理方案\n  - 在text组件基础上改动，需要将text的children转换为NSAttributedString(iOS)和SpannableString(Android)的属性\n  - 同时需要特殊考虑text子元素(未来还会支持嵌套子元素)在产生变更的时候要通知到text，使得text能够重绘\n- 优势\n  - 前端友好，使用便捷\n- 劣势\n  - 对现有的渲染机制有侵入性，对于text节点来说需要特殊处理，不再是一个标签对应一个view的模式。\n  - 对现有text组件侵入较大，inline的引入，可能会为后续纯text组件的性能优化以及功能升级带来额外的负担。\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/235823694",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-235823694",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 235823694,
      "user": {
        "login": "cxfeng1",
        "id": 1625893,
        "avatar_url": "https://avatars2.githubusercontent.com/u/1625893?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cxfeng1",
        "html_url": "https://github.com/cxfeng1",
        "followers_url": "https://api.github.com/users/cxfeng1/followers",
        "following_url": "https://api.github.com/users/cxfeng1/following{/other_user}",
        "gists_url": "https://api.github.com/users/cxfeng1/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cxfeng1/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cxfeng1/subscriptions",
        "organizations_url": "https://api.github.com/users/cxfeng1/orgs",
        "repos_url": "https://api.github.com/users/cxfeng1/repos",
        "events_url": "https://api.github.com/users/cxfeng1/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cxfeng1/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-07-28T07:45:49Z",
      "updated_at": "2016-07-28T07:47:02Z",
      "body": "### 方案2：增加新的组件\n- 前端使用方式\n\n```\n<rich-text style=\"style1\">\n    some words\n    <span style=\"style2\">some other words</span>\n    <image src=\"image-url\"></image>\n    <a>a link</a>\n<rich-text>\n```\n- js-native 数据交互格式\n\n```\n{\n    ref : xxx,\n    type : richText,\n    style : {style1}\n    children : [{\n        ref : xxx, \n        type : span,\n        style : {}, // if no style use super text's style\n        attr : {value:some words}\n    },{\n        ref : xxx, \n        type : span,\n        style : {style2}\n        attr : {value:some other words}\n    },\n    ...\n    ]\n}\n```\n- Native 处理方案\n  - 扩展一个rich-text组件\n  - 其他同上一个方案\n- 优势\n  - 对前端使用相对友好\n  - 和text实现解耦分离\n- 劣势\n  - 对现有的渲染机制有侵入性，对于rich-text节点来说需要特殊处理，不再是一个标签对应一个view的模式\n  - 增加一个组件略微增加使用成本\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/235823768",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-235823768",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 235823768,
      "user": {
        "login": "cxfeng1",
        "id": 1625893,
        "avatar_url": "https://avatars2.githubusercontent.com/u/1625893?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cxfeng1",
        "html_url": "https://github.com/cxfeng1",
        "followers_url": "https://api.github.com/users/cxfeng1/followers",
        "following_url": "https://api.github.com/users/cxfeng1/following{/other_user}",
        "gists_url": "https://api.github.com/users/cxfeng1/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cxfeng1/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cxfeng1/subscriptions",
        "organizations_url": "https://api.github.com/users/cxfeng1/orgs",
        "repos_url": "https://api.github.com/users/cxfeng1/repos",
        "events_url": "https://api.github.com/users/cxfeng1/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cxfeng1/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-07-28T07:46:11Z",
      "updated_at": "2016-07-28T08:28:43Z",
      "body": "### 方案3：使用标记语言\n- 前端使用方式\n\n```\n<rich-text style=\"style1\">\n    <!-- markdow or other markup language-->\n    some words\n    **bold words**\n    ![](image-url)\n    [link-word](link-url)\n<rich-text>\n```\n- js-native 数据交互格式\n\n```\n{\n    ref : xxx,\n    type : richText,\n    style : {style1},\n    attr : {\n        value:\"some words\\n**bold words**\\n![](image-url)\\n     [link-word](link-url)\"\n    }\n}\n```\n- Native 处理方案\n  - 扩展一个rich-text组件\n  - 直接解析attr中的value，绘制出对应的native text\n- 优势\n  - Native处理简单， rich-text的所有属性作为一个整体， 对渲染流程和其他组件没有侵入\n- 劣势\n  - 前端使用相对不方便\n  - 灵活性低， 不易支持View的嵌入\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/235823819",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-235823819",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 235823819,
      "user": {
        "login": "cxfeng1",
        "id": 1625893,
        "avatar_url": "https://avatars2.githubusercontent.com/u/1625893?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cxfeng1",
        "html_url": "https://github.com/cxfeng1",
        "followers_url": "https://api.github.com/users/cxfeng1/followers",
        "following_url": "https://api.github.com/users/cxfeng1/following{/other_user}",
        "gists_url": "https://api.github.com/users/cxfeng1/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cxfeng1/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cxfeng1/subscriptions",
        "organizations_url": "https://api.github.com/users/cxfeng1/orgs",
        "repos_url": "https://api.github.com/users/cxfeng1/repos",
        "events_url": "https://api.github.com/users/cxfeng1/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cxfeng1/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-07-28T07:46:27Z",
      "updated_at": "2016-07-28T07:47:18Z",
      "body": "### 方案4：编译期转换为JSON\n- 前端使用方式\n\n```\n<text style=\"style1\">\n    some words\n    <text style=\"style2\">some other words</span>\n    <image src=\"image-url\"></image>\n    <a>a link</a>\n<text>\n```\n- js-native 数据交互格式\n\n```\n{\n    ref : xxx,\n    type : richText,\n    style : {style1}\n    attr : {\n        value: [\n            // JSON\n            {\n                start:0,\n                end:10,\n                style:{}\n\n            },\n            {\n                start:10,\n                end:26,\n                style:{style2}\n            }\n            ...\n        ]\n    }\n}\n```\n- Native 处理方案\n  - 如果value是JSON结构，按照富文本处理\n- 优势\n  - Native处理简单， 所有属性作为一个整体， 对渲染流程和其他组件没有侵入\n- 劣势\n  - 前端transformer要对rich-text做特殊化处理，不易于后续RX等其他JS框架的扩展\n  - JSON协议相对非标准\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/235830322",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-235830322",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 235830322,
      "user": {
        "login": "boiawang",
        "id": 6340730,
        "avatar_url": "https://avatars0.githubusercontent.com/u/6340730?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/boiawang",
        "html_url": "https://github.com/boiawang",
        "followers_url": "https://api.github.com/users/boiawang/followers",
        "following_url": "https://api.github.com/users/boiawang/following{/other_user}",
        "gists_url": "https://api.github.com/users/boiawang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/boiawang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/boiawang/subscriptions",
        "organizations_url": "https://api.github.com/users/boiawang/orgs",
        "repos_url": "https://api.github.com/users/boiawang/repos",
        "events_url": "https://api.github.com/users/boiawang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/boiawang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-07-28T08:19:19Z",
      "updated_at": "2016-07-28T08:19:19Z",
      "body": "我比较倾向于第二种，第一种把text的语义都改了。而且增加一个标签我并不觉得增加了使用成本\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/235831066",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-235831066",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 235831066,
      "user": {
        "login": "0326",
        "id": 8676306,
        "avatar_url": "https://avatars1.githubusercontent.com/u/8676306?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0326",
        "html_url": "https://github.com/0326",
        "followers_url": "https://api.github.com/users/0326/followers",
        "following_url": "https://api.github.com/users/0326/following{/other_user}",
        "gists_url": "https://api.github.com/users/0326/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/0326/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/0326/subscriptions",
        "organizations_url": "https://api.github.com/users/0326/orgs",
        "repos_url": "https://api.github.com/users/0326/repos",
        "events_url": "https://api.github.com/users/0326/events{/privacy}",
        "received_events_url": "https://api.github.com/users/0326/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-07-28T08:22:43Z",
      "updated_at": "2016-07-28T08:22:43Z",
      "body": "倾向方案2，毕竟开发用户主要还是前端，不赞成内嵌标记语言，还是统一风格好，不然代码看起来很怪异呢：）\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/235832571",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-235832571",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 235832571,
      "user": {
        "login": "MrRaindrop",
        "id": 1545874,
        "avatar_url": "https://avatars3.githubusercontent.com/u/1545874?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MrRaindrop",
        "html_url": "https://github.com/MrRaindrop",
        "followers_url": "https://api.github.com/users/MrRaindrop/followers",
        "following_url": "https://api.github.com/users/MrRaindrop/following{/other_user}",
        "gists_url": "https://api.github.com/users/MrRaindrop/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/MrRaindrop/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/MrRaindrop/subscriptions",
        "organizations_url": "https://api.github.com/users/MrRaindrop/orgs",
        "repos_url": "https://api.github.com/users/MrRaindrop/repos",
        "events_url": "https://api.github.com/users/MrRaindrop/events{/privacy}",
        "received_events_url": "https://api.github.com/users/MrRaindrop/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-07-28T08:29:42Z",
      "updated_at": "2016-07-28T08:29:42Z",
      "body": "倾向方案2，建议`<rich-text>`改为`<rich>`更简洁\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/235836901",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-235836901",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 235836901,
      "user": {
        "login": "yfldj",
        "id": 6778148,
        "avatar_url": "https://avatars1.githubusercontent.com/u/6778148?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yfldj",
        "html_url": "https://github.com/yfldj",
        "followers_url": "https://api.github.com/users/yfldj/followers",
        "following_url": "https://api.github.com/users/yfldj/following{/other_user}",
        "gists_url": "https://api.github.com/users/yfldj/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/yfldj/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yfldj/subscriptions",
        "organizations_url": "https://api.github.com/users/yfldj/orgs",
        "repos_url": "https://api.github.com/users/yfldj/repos",
        "events_url": "https://api.github.com/users/yfldj/events{/privacy}",
        "received_events_url": "https://api.github.com/users/yfldj/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-07-28T08:49:46Z",
      "updated_at": "2016-07-28T08:49:46Z",
      "body": "方案2＋1\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/235840735",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-235840735",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 235840735,
      "user": {
        "login": "gitone",
        "id": 2957591,
        "avatar_url": "https://avatars2.githubusercontent.com/u/2957591?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gitone",
        "html_url": "https://github.com/gitone",
        "followers_url": "https://api.github.com/users/gitone/followers",
        "following_url": "https://api.github.com/users/gitone/following{/other_user}",
        "gists_url": "https://api.github.com/users/gitone/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/gitone/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gitone/subscriptions",
        "organizations_url": "https://api.github.com/users/gitone/orgs",
        "repos_url": "https://api.github.com/users/gitone/repos",
        "events_url": "https://api.github.com/users/gitone/events{/privacy}",
        "received_events_url": "https://api.github.com/users/gitone/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-07-28T09:06:33Z",
      "updated_at": "2016-07-28T09:06:33Z",
      "body": "根据做类似项目的经验 倾向于方案4， 对前端开发者来说最方便\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/236355513",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-236355513",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 236355513,
      "user": {
        "login": "LeeJay0226",
        "id": 7502237,
        "avatar_url": "https://avatars1.githubusercontent.com/u/7502237?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LeeJay0226",
        "html_url": "https://github.com/LeeJay0226",
        "followers_url": "https://api.github.com/users/LeeJay0226/followers",
        "following_url": "https://api.github.com/users/LeeJay0226/following{/other_user}",
        "gists_url": "https://api.github.com/users/LeeJay0226/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/LeeJay0226/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/LeeJay0226/subscriptions",
        "organizations_url": "https://api.github.com/users/LeeJay0226/orgs",
        "repos_url": "https://api.github.com/users/LeeJay0226/repos",
        "events_url": "https://api.github.com/users/LeeJay0226/events{/privacy}",
        "received_events_url": "https://api.github.com/users/LeeJay0226/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-07-30T09:27:33Z",
      "updated_at": "2016-07-31T16:53:45Z",
      "body": "提供一个思路看看可不可行。可以给text标签增加一种添加rule的操作增加text的富文本样式,例如\n\n```\naddrule({\n  start:0;\n  end:5;\n  style:{\n    type:color;\n    value:#ff000;\n  }\n})\n```\n\n可以在网络返回数据后动态得添加rule，也可以在text标签的attr中增加一个叫rules的属性，属性的值是一个json数组，在创建标签的时候可以解析该属性。\nps：前段时间在Android上做了一个自定义font-family的功能，也是通过addRule的方式来实现的\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/236442167",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-236442167",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 236442167,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-07-31T17:05:00Z",
      "updated_at": "2016-07-31T17:05:00Z",
      "body": "周末仔细想了想，可能未来想支持 SVG 的时候，还会碰到类似的问题需要纠结，就是 native 渲染的颗粒度和标签的颗粒度不一致，如果可以在标签上加一个通用的 attribute，比如 `append=\"once\"`，语法解析器在解析到这个 attribute 之后，子元素全部等价转换为 `value` 的 attribute，并且格式是 JSON 而不是 string，问题也可以得到解决。\n\n换句话说，是基于方案4抽象一个通用规则，尽量通过标准和规范若化不利方面的影响\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/236816978",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-236816978",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 236816978,
      "user": {
        "login": "seajean",
        "id": 1409603,
        "avatar_url": "https://avatars3.githubusercontent.com/u/1409603?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/seajean",
        "html_url": "https://github.com/seajean",
        "followers_url": "https://api.github.com/users/seajean/followers",
        "following_url": "https://api.github.com/users/seajean/following{/other_user}",
        "gists_url": "https://api.github.com/users/seajean/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/seajean/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/seajean/subscriptions",
        "organizations_url": "https://api.github.com/users/seajean/orgs",
        "repos_url": "https://api.github.com/users/seajean/repos",
        "events_url": "https://api.github.com/users/seajean/events{/privacy}",
        "received_events_url": "https://api.github.com/users/seajean/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-08-02T06:53:48Z",
      "updated_at": "2016-08-02T06:53:48Z",
      "body": "如果richText里边再嵌套richText的情况也需要考虑一下~\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/237096150",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-237096150",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 237096150,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-08-03T00:42:48Z",
      "updated_at": "2016-08-03T00:45:01Z",
      "body": "如果基于方案2的话，需要 JS Framework 被注册每个组件的信息时，多一个字段，比如 `atom`，如果为 `true` 则表示强制任何子元素的更新都会导致整个大元素重新生成。比如：\n\n``` javascript\nregisterComponents([{ type: 'richtext', atom: true }])\n```\n\n同时 virtual-DOM 实现的时候能够识别这个标识，遇到这样的元素的子元素发生更改，就向上追溯到大元素，把子元素都删掉，再创建新的元素添加进去。比如：\n\n``` html\n<template>\n  <div>\n    <richtext>\n      {{xxx}}\n      <span style=\"color: {{yyy}}\">abc</span>\n      <image src=\"{{zzz}}\"></image>\n    </richtext>\n  </div>\n</template>\n<script>\n  module.exports = {\n    data: function () {\n      return { xxx, yyy, zzz }\n    }\n  }\n</script>\n```\n\n任何数据变更，都会触发 `<richtext>` 删掉所有的子结点，然后重新生成所有子节点，我能想到的相应的 `callNative()` 命令类似：\n\n``` javascript\ncallNative(<instanceId>, [\n  { module: 'dom', method: 'removeElement', args: [<oldRichTextNodeRef>]}\n])\ncallNative(<instanceId>, [\n  { module: 'dom', method: 'addElement', args: [<refOfRichTextParent>, <newRichTextJSON>, <oldRichTextIndex>]}\n])\n```\n\n或\n\n``` javascript\ncallNative(<instanceId>, [\n  { module: 'dom', method: 'removeElement', args: [<oldTextNodeRef>]},\n  { module: 'dom', method: 'removeElement', args: [<oldSpanRef>]},\n  { module: 'dom', method: 'removeElement', args: [<oldImageRef>]}\n])\ncallNative(<instanceId>, [\n  { module: 'dom', method: 'addElement', args: [<refOfRichText>, <oldTextNodeRef>, -1]},\n  { module: 'dom', method: 'removeElement', args: [<refOfRichText>, <oldSpanRef>, -1]},\n  { module: 'dom', method: 'removeElement', args: [<refOfRichText>, <oldImageRef>, -1]}\n])\n```\n\n这两种方式感觉对于 native 识别起来都是有问题的，一个需要删掉现有的结点重新创建 (而不是更新)，另一个需要批量完成所有的操作才能得到真正想展示的最终结果。\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/237509148",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-237509148",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 237509148,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-08-04T10:00:02Z",
      "updated_at": "2016-08-04T10:00:02Z",
      "body": "基于方案4：\n\n``` html\n<richtext>\n  {{xxx}}\n  <span style=\"color: {{yyy}}\">abc</span>\n  <image src=\"{{zzz}}\"></image>\n</richtext>\n```\n\n经过 transformer 转换之后会变成\n\n``` javascript\n{\n  type: 'richtext',\n  attr: {\n    value: function () {\n      return [\n        { type: 'text', attr: { value: this.xxx }},\n        { type: 'text', style: { color: this.yyy }, children: [\n          { type: 'text', {...}},\n          { type: 'text', {...}}\n        ]},\n        { type: 'image', attr: { src: this.zzz }}\n      ]\n    }\n  }\n}\n```\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/240518754",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-240518754",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 240518754,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-08-17T19:21:44Z",
      "updated_at": "2016-08-17T19:21:44Z",
      "body": "根据方案4例子完整的 JS Bundle 大概是这样的：\n\n``` javascript\n__weex_define__('@weex-component/richtext-demo', function(require, exports, module) {\n  exports.template = {\n    \"type\": \"div\",\n    \"children\": [{\n      \"type\": \"richtext\",\n      \"attr\": {\n        \"value\": function () {\n          return [\n            { type: 'text', attr: { value: this.xxx }},\n            { type: 'text', attr: { value: \"abc\" }, style: { color: this.yyy }},\n            { type: 'image', attr: { src: this.zzz }}\n          ]\n        }\n      }\n    }]\n  }\n  exports.data = function() {\n      return {\n        xxx: 'aaa',\n        yyy: '#000099',\n        zzz: 'ccc'\n      }\n    }\n  }\n})\n\n__weex_bootstrap__('@weex-component/richtext-demo', {\n  \"transformerVersion\": \"0.3.1\"\n})\n```\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/240651209",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-240651209",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 240651209,
      "user": {
        "login": "YorkShen",
        "id": 4162544,
        "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/YorkShen",
        "html_url": "https://github.com/YorkShen",
        "followers_url": "https://api.github.com/users/YorkShen/followers",
        "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
        "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
        "organizations_url": "https://api.github.com/users/YorkShen/orgs",
        "repos_url": "https://api.github.com/users/YorkShen/repos",
        "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/YorkShen/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-08-18T07:58:14Z",
      "updated_at": "2016-08-18T07:58:14Z",
      "body": "@Jinjiang \n需要一个更复杂的JS bundle，包含所有支持的type类型以及text节点嵌套text节点这样的case。\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/241185676",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-241185676",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 241185676,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-08-20T07:49:54Z",
      "updated_at": "2016-08-20T07:49:54Z",
      "body": "同步一个在 Transformer 里发现的问题：Transformer 在实现的时候遇到一个之前没有充分讨论的场景，就是如果 `<richtext>` 中有 `if` 和 `repeat` 的时候，转换规则会比较复杂，详见这里的讨论：https://github.com/weexteam/weex-templater/pull/1\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/241185994",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-241185994",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 241185994,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-08-20T07:58:07Z",
      "updated_at": "2016-08-20T07:58:07Z",
      "body": "@YorkShen 支持的类型应该就是 text 和 image 和 a，我写了个更复杂的例子：\n\n``` html\n<richtext>\n  {{xxx}}\n  <a style=\"color: blue\" href=\"...\">\n    456\n    <image src=\"{{yyy}}\"></image>\n    <text style=\"font-weight: {{zzz}};\">789</text>\n  </a>\n</richtext>\n```\n\n转出来的 JavaScript 是：\n\n``` javascript\n{\n  \"type\": \"richtext\",\n  \"attr\": {\n    \"value\": function () {\n      return [\n        { type: 'text', attr: { value: this.xxx }},\n        { type: 'a', attr: { href: '...', value: [\n          { type: 'text', attr: { value: '456' }},\n          { type: 'image', attr: { src: this.yyy }}\n          { type: 'text', attr: { value: '789' }, style: { fontWeight: this.zzz }}\n        ] }, style: { color: \"blue\" }}\n      ]\n    }\n  }\n}\n```\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/241186050",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-241186050",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 241186050,
      "user": {
        "login": "Jinjiang",
        "id": 206848,
        "avatar_url": "https://avatars2.githubusercontent.com/u/206848?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jinjiang",
        "html_url": "https://github.com/Jinjiang",
        "followers_url": "https://api.github.com/users/Jinjiang/followers",
        "following_url": "https://api.github.com/users/Jinjiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jinjiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jinjiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jinjiang/subscriptions",
        "organizations_url": "https://api.github.com/users/Jinjiang/orgs",
        "repos_url": "https://api.github.com/users/Jinjiang/repos",
        "events_url": "https://api.github.com/users/Jinjiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jinjiang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-08-20T07:59:20Z",
      "updated_at": "2016-08-20T07:59:20Z",
      "body": "端上的理解建议 @boboning @MrRaindrop 多参与一点吧\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/254394408",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-254394408",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 254394408,
      "user": {
        "login": "YorkShen",
        "id": 4162544,
        "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/YorkShen",
        "html_url": "https://github.com/YorkShen",
        "followers_url": "https://api.github.com/users/YorkShen/followers",
        "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
        "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
        "organizations_url": "https://api.github.com/users/YorkShen/orgs",
        "repos_url": "https://api.github.com/users/YorkShen/repos",
        "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/YorkShen/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-10-18T03:05:18Z",
      "updated_at": "2017-03-03T07:21:21Z",
      "body": "# 技术方案\r\n\r\n``` html\r\n<richtext>\r\n  {{xxx}}\r\n  <a style=\"color: blue\" href=\"...\">\r\n    456\r\n    <image src=\"{{yyy}}\"></image>\r\n    <span style=\"font-weight: {{zzz}};\">789</span>\r\n  </a>\r\n</richtext>\r\n```\r\n\r\n转出来的 JavaScript 是：\r\n\r\n``` javascript\r\n{\r\n  \"type\": \"richtext\",\r\n  \"attr\": {\r\n    \"value\": function () {\r\n      return [\r\n        { type: 'span', attr: { value: this.xxx }},\r\n        { type: 'a', attr: { href: '...'}, style: { color: \"blue\" }, children: [\r\n          { type: 'span', attr: { value: '456' }},\r\n          { type: 'image', attr: { src: this.yyy }}\r\n          { type: 'span', attr: { value: '789' }, style: { fontWeight: this.zzz }}\r\n        ] }\r\n      ]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n## 语义\r\n- type只支持span, a, image三种类型。\r\n- span为`display:inline`，image为`display:inline-block`，且不可改变。\r\n- type为span, a, image之外的节点无意义。\r\n- Richtext节点是一颗树，在遍历richtext节点的时候，使用先根遍历。\r\n即如下述代码所示\r\n\r\n\t\t//原始形式\r\n\t\t<span>xx\r\n\t\t\t<span>yy</span>\r\n\t\t\t<span>zz</span>\r\n\t\t</span>\r\n\t\t\r\n\t\t//transformer处理后的形式\r\n\t\t<span>\r\n\t\t\t<span>xx</span>\r\n\t\t\t<span>yy</span>\r\n\t\t\t<span>zz</span>\r\n\t\t</span>\r\n- 在语义上区分internal node(非叶子节点)和external node(叶子节点)。image为external node, a和span为internal node。external node不可以有子节点，internal node可以没有子节点或者有任意类型的子节点。\r\n- richtext树最高高度不能超过255，高度超过255后的节点的style无效，会使用父节点的style。\r\n\r\n## Image\r\n- 富文本中的image元素，其宽高是必选项(如果不提供宽高，不显示)。\r\n- 富文本中的image元素，在解析完成后，图片下载的网络请求尚未返回的时候，图片区域留白。\r\n- 富文本中不支持vertical-align，image与span在y轴上的对齐采取native端的默认实现\r\n- android富文本的image实现，将增加新的图片库接口\r\n\r\n## Style & Attr\r\n- 子节点可继承父节点的style\r\n- 富文本的span,img,a各自支持的style列表如下\r\n\t- span支持的style\r\n\t\t+ 可继承\r\n\t\t\t+ color\r\n\t\t\t+ font-family\r\n\t\t\t+ font-size\r\n\t\t\t+ font-style\r\n\t\t\t+ font-weight\r\n\t\t+ 不可继承\r\n\t\t\t+ background-color\r\n\t- image支持的style, attr只支持src\r\n\t\t+ width\r\n\t\t+ height\r\n\t- a (支持的style和span相同)"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/266928241",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-266928241",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 266928241,
      "user": {
        "login": "imsobear",
        "id": 2505411,
        "avatar_url": "https://avatars3.githubusercontent.com/u/2505411?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/imsobear",
        "html_url": "https://github.com/imsobear",
        "followers_url": "https://api.github.com/users/imsobear/followers",
        "following_url": "https://api.github.com/users/imsobear/following{/other_user}",
        "gists_url": "https://api.github.com/users/imsobear/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/imsobear/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/imsobear/subscriptions",
        "organizations_url": "https://api.github.com/users/imsobear/orgs",
        "repos_url": "https://api.github.com/users/imsobear/repos",
        "events_url": "https://api.github.com/users/imsobear/events{/privacy}",
        "received_events_url": "https://api.github.com/users/imsobear/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-12-14T02:51:16Z",
      "updated_at": "2016-12-14T02:51:16Z",
      "body": "\r\n这个问题现在有具体的计划吗？"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/268191486",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-268191486",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 268191486,
      "user": {
        "login": "YorkShen",
        "id": 4162544,
        "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/YorkShen",
        "html_url": "https://github.com/YorkShen",
        "followers_url": "https://api.github.com/users/YorkShen/followers",
        "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
        "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
        "organizations_url": "https://api.github.com/users/YorkShen/orgs",
        "repos_url": "https://api.github.com/users/YorkShen/repos",
        "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/YorkShen/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-12-20T09:07:03Z",
      "updated_at": "2016-12-20T09:07:03Z",
      "body": "@imsobear 下一个版本会支持此功能"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/268954799",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-268954799",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 268954799,
      "user": {
        "login": "yujiangshui",
        "id": 2942913,
        "avatar_url": "https://avatars0.githubusercontent.com/u/2942913?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yujiangshui",
        "html_url": "https://github.com/yujiangshui",
        "followers_url": "https://api.github.com/users/yujiangshui/followers",
        "following_url": "https://api.github.com/users/yujiangshui/following{/other_user}",
        "gists_url": "https://api.github.com/users/yujiangshui/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/yujiangshui/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yujiangshui/subscriptions",
        "organizations_url": "https://api.github.com/users/yujiangshui/orgs",
        "repos_url": "https://api.github.com/users/yujiangshui/repos",
        "events_url": "https://api.github.com/users/yujiangshui/events{/privacy}",
        "received_events_url": "https://api.github.com/users/yujiangshui/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-12-23T08:15:00Z",
      "updated_at": "2016-12-23T08:15:00Z",
      "body": "@YorkShen 大概是一种什么样的使用方法？看上面的评论感觉像是这样的思路：所有内容都是 inline 排下来，然后在 span 上面附加的 styles 可以被读取到作为当前 span 的样式渲染，然后支持嵌套，比如 a 这样的。图片使用 inline-block ？\r\n\r\n看到的有点晚，早看到的话我可能会推荐下 draft-js 数据描述方案。它只有一个平级的 block 的概念，里面有文本或者 block 本身是一个类型（图片、blockquote等），block 上面的 text 区分 entity 和 styles 两个概念，均使用 offset 和 length 来描述生效范围。这样 styles 可以叠加描述，对于 a 这种 entity 也不需要使用嵌套了。\r\n\r\nhttps://medium.com/@rajaraodv/how-draft-js-represents-rich-text-data-eeabb5f25cf2 "
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/268962975",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-268962975",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 268962975,
      "user": {
        "login": "YorkShen",
        "id": 4162544,
        "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/YorkShen",
        "html_url": "https://github.com/YorkShen",
        "followers_url": "https://api.github.com/users/YorkShen/followers",
        "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
        "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
        "organizations_url": "https://api.github.com/users/YorkShen/orgs",
        "repos_url": "https://api.github.com/users/YorkShen/repos",
        "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/YorkShen/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-12-23T09:32:05Z",
      "updated_at": "2016-12-23T09:32:05Z",
      "body": "* js端使用json描述inline或inline-block的概念，js对length，offset的概念无感知。\r\n* native端将js端的json描述解析成[interval tree](https://en.wikipedia.org/wiki/Interval_tree)的形式，并进行渲染。offset和length需要以一种更合理的数据结构组合，以利于search，add，delete操作。android这里使用了基于红黑树的interval tree构建了这个数据结构。\r\n@yujiangshui "
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/274314156",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-274314156",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 274314156,
      "user": {
        "login": "YorkShen",
        "id": 4162544,
        "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/YorkShen",
        "html_url": "https://github.com/YorkShen",
        "followers_url": "https://api.github.com/users/YorkShen/followers",
        "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
        "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
        "organizations_url": "https://api.github.com/users/YorkShen/orgs",
        "repos_url": "https://api.github.com/users/YorkShen/repos",
        "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/YorkShen/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2017-01-22T07:20:07Z",
      "updated_at": "2017-03-02T10:13:07Z",
      "body": "See a *naive* implementation of richtext in [weex android](https://github.com/YorkShen/incubator-weex/tree/android-feature-richtext), it will not be merged into master brach until it is stable."
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/280287901",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-280287901",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 280287901,
      "user": {
        "login": "XuDouWei",
        "id": 19722534,
        "avatar_url": "https://avatars2.githubusercontent.com/u/19722534?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/XuDouWei",
        "html_url": "https://github.com/XuDouWei",
        "followers_url": "https://api.github.com/users/XuDouWei/followers",
        "following_url": "https://api.github.com/users/XuDouWei/following{/other_user}",
        "gists_url": "https://api.github.com/users/XuDouWei/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/XuDouWei/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/XuDouWei/subscriptions",
        "organizations_url": "https://api.github.com/users/XuDouWei/orgs",
        "repos_url": "https://api.github.com/users/XuDouWei/repos",
        "events_url": "https://api.github.com/users/XuDouWei/events{/privacy}",
        "received_events_url": "https://api.github.com/users/XuDouWei/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2017-02-16T10:05:43Z",
      "updated_at": "2017-02-16T10:05:43Z",
      "body": "weex现在支持自定义的字体库吗？@YorkShen@Jinjiang "
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/283852164",
      "html_url": "https://github.com/alibaba/weex/issues/835#issuecomment-283852164",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/835",
      "id": 283852164,
      "user": {
        "login": "YorkShen",
        "id": 4162544,
        "avatar_url": "https://avatars2.githubusercontent.com/u/4162544?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/YorkShen",
        "html_url": "https://github.com/YorkShen",
        "followers_url": "https://api.github.com/users/YorkShen/followers",
        "following_url": "https://api.github.com/users/YorkShen/following{/other_user}",
        "gists_url": "https://api.github.com/users/YorkShen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/YorkShen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/YorkShen/subscriptions",
        "organizations_url": "https://api.github.com/users/YorkShen/orgs",
        "repos_url": "https://api.github.com/users/YorkShen/repos",
        "events_url": "https://api.github.com/users/YorkShen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/YorkShen/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2017-03-03T03:02:20Z",
      "updated_at": "2017-03-03T03:02:20Z",
      "body": "@XuDouWei Ref https://github.com/alibaba/weex/issues/825"
    }
  ],
  "created_at": "2016-07-21T04:15:46Z",
  "updated_at": "2017-03-03T07:21:21Z",
  "closed_at": null,
  "body": ""
}
