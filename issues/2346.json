{
  "url": "https://api.github.com/repos/alibaba/weex/issues/2346",
  "repository_url": "https://api.github.com/repos/alibaba/weex",
  "labels_url": "https://api.github.com/repos/alibaba/weex/issues/2346/labels{/name}",
  "comments_url": "https://api.github.com/repos/alibaba/weex/issues/2346/comments",
  "events_url": "https://api.github.com/repos/alibaba/weex/issues/2346/events",
  "html_url": "https://github.com/alibaba/weex/issues/2346",
  "id": 202058601,
  "number": 2346,
  "title": "stream.fetch在浏览器预览时，会出现跨域问题，但是在weex playground中预览正常的",
  "user": {
    "login": "zhugexiansheng",
    "id": 13861291,
    "avatar_url": "https://avatars0.githubusercontent.com/u/13861291?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zhugexiansheng",
    "html_url": "https://github.com/zhugexiansheng",
    "followers_url": "https://api.github.com/users/zhugexiansheng/followers",
    "following_url": "https://api.github.com/users/zhugexiansheng/following{/other_user}",
    "gists_url": "https://api.github.com/users/zhugexiansheng/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zhugexiansheng/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zhugexiansheng/subscriptions",
    "organizations_url": "https://api.github.com/users/zhugexiansheng/orgs",
    "repos_url": "https://api.github.com/users/zhugexiansheng/repos",
    "events_url": "https://api.github.com/users/zhugexiansheng/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zhugexiansheng/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": [
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/273985711",
      "html_url": "https://github.com/alibaba/weex/issues/2346#issuecomment-273985711",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/2346",
      "id": 273985711,
      "user": {
        "login": "acton393",
        "id": 11631084,
        "avatar_url": "https://avatars1.githubusercontent.com/u/11631084?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/acton393",
        "html_url": "https://github.com/acton393",
        "followers_url": "https://api.github.com/users/acton393/followers",
        "following_url": "https://api.github.com/users/acton393/following{/other_user}",
        "gists_url": "https://api.github.com/users/acton393/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/acton393/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/acton393/subscriptions",
        "organizations_url": "https://api.github.com/users/acton393/orgs",
        "repos_url": "https://api.github.com/users/acton393/repos",
        "events_url": "https://api.github.com/users/acton393/events{/privacy}",
        "received_events_url": "https://api.github.com/users/acton393/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2017-01-20T06:09:13Z",
      "updated_at": "2017-01-20T06:09:13Z",
      "body": "hi @zhugexiansheng  尝试查看下这个issue  #1933 "
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/273993005",
      "html_url": "https://github.com/alibaba/weex/issues/2346#issuecomment-273993005",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/2346",
      "id": 273993005,
      "user": {
        "login": "zhugexiansheng",
        "id": 13861291,
        "avatar_url": "https://avatars0.githubusercontent.com/u/13861291?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zhugexiansheng",
        "html_url": "https://github.com/zhugexiansheng",
        "followers_url": "https://api.github.com/users/zhugexiansheng/followers",
        "following_url": "https://api.github.com/users/zhugexiansheng/following{/other_user}",
        "gists_url": "https://api.github.com/users/zhugexiansheng/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/zhugexiansheng/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zhugexiansheng/subscriptions",
        "organizations_url": "https://api.github.com/users/zhugexiansheng/orgs",
        "repos_url": "https://api.github.com/users/zhugexiansheng/repos",
        "events_url": "https://api.github.com/users/zhugexiansheng/events{/privacy}",
        "received_events_url": "https://api.github.com/users/zhugexiansheng/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2017-01-20T07:07:06Z",
      "updated_at": "2017-01-20T07:07:06Z",
      "body": "hi @acton393 我试过里面的方法了，但是好像没用，而且在浏览器上面数据是已经是返回了的\r\n![image](https://cloud.githubusercontent.com/assets/13861291/22139570/da11bc0a-df21-11e6-8495-256d0f16017e.png)\r\n但是还是报-1的错误，是不是返回的数据需要特殊格式？\r\n![image](https://cloud.githubusercontent.com/assets/13861291/22139601/0b5ce320-df22-11e6-8363-b884eec7d74c.png)\r\n\r\n"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/274240185",
      "html_url": "https://github.com/alibaba/weex/issues/2346#issuecomment-274240185",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/2346",
      "id": 274240185,
      "user": {
        "login": "abczdefg",
        "id": 21260713,
        "avatar_url": "https://avatars0.githubusercontent.com/u/21260713?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/abczdefg",
        "html_url": "https://github.com/abczdefg",
        "followers_url": "https://api.github.com/users/abczdefg/followers",
        "following_url": "https://api.github.com/users/abczdefg/following{/other_user}",
        "gists_url": "https://api.github.com/users/abczdefg/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/abczdefg/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/abczdefg/subscriptions",
        "organizations_url": "https://api.github.com/users/abczdefg/orgs",
        "repos_url": "https://api.github.com/users/abczdefg/repos",
        "events_url": "https://api.github.com/users/abczdefg/events{/privacy}",
        "received_events_url": "https://api.github.com/users/abczdefg/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2017-01-21T06:10:46Z",
      "updated_at": "2017-01-21T06:13:04Z",
      "body": "防止跨域不是浏览器中的安全机制吗？playground中正常，可能因为已经不是webview了？"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/278209012",
      "html_url": "https://github.com/alibaba/weex/issues/2346#issuecomment-278209012",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/2346",
      "id": 278209012,
      "user": {
        "login": "jaylinwang",
        "id": 4530355,
        "avatar_url": "https://avatars1.githubusercontent.com/u/4530355?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jaylinwang",
        "html_url": "https://github.com/jaylinwang",
        "followers_url": "https://api.github.com/users/jaylinwang/followers",
        "following_url": "https://api.github.com/users/jaylinwang/following{/other_user}",
        "gists_url": "https://api.github.com/users/jaylinwang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jaylinwang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jaylinwang/subscriptions",
        "organizations_url": "https://api.github.com/users/jaylinwang/orgs",
        "repos_url": "https://api.github.com/users/jaylinwang/repos",
        "events_url": "https://api.github.com/users/jaylinwang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jaylinwang/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2017-02-08T02:16:33Z",
      "updated_at": "2017-02-08T02:17:09Z",
      "body": "尝试在服务器端配置api允许跨域访问 @zhugexiansheng "
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/281945320",
      "html_url": "https://github.com/alibaba/weex/issues/2346#issuecomment-281945320",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/2346",
      "id": 281945320,
      "user": {
        "login": "zhugexiansheng",
        "id": 13861291,
        "avatar_url": "https://avatars0.githubusercontent.com/u/13861291?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zhugexiansheng",
        "html_url": "https://github.com/zhugexiansheng",
        "followers_url": "https://api.github.com/users/zhugexiansheng/followers",
        "following_url": "https://api.github.com/users/zhugexiansheng/following{/other_user}",
        "gists_url": "https://api.github.com/users/zhugexiansheng/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/zhugexiansheng/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zhugexiansheng/subscriptions",
        "organizations_url": "https://api.github.com/users/zhugexiansheng/orgs",
        "repos_url": "https://api.github.com/users/zhugexiansheng/repos",
        "events_url": "https://api.github.com/users/zhugexiansheng/events{/privacy}",
        "received_events_url": "https://api.github.com/users/zhugexiansheng/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2017-02-23T09:47:42Z",
      "updated_at": "2017-02-23T09:47:42Z",
      "body": "@jaylinwang @abczdefg 好像是这个问题，之前可能看错了，以为数据已经返回了\r\n@acton393 可以close了"
    },
    {
      "url": "https://api.github.com/repos/alibaba/weex/issues/comments/283226393",
      "html_url": "https://github.com/alibaba/weex/issues/2346#issuecomment-283226393",
      "issue_url": "https://api.github.com/repos/alibaba/weex/issues/2346",
      "id": 283226393,
      "user": {
        "login": "zhe-he",
        "id": 11306583,
        "avatar_url": "https://avatars2.githubusercontent.com/u/11306583?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zhe-he",
        "html_url": "https://github.com/zhe-he",
        "followers_url": "https://api.github.com/users/zhe-he/followers",
        "following_url": "https://api.github.com/users/zhe-he/following{/other_user}",
        "gists_url": "https://api.github.com/users/zhe-he/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/zhe-he/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zhe-he/subscriptions",
        "organizations_url": "https://api.github.com/users/zhe-he/orgs",
        "repos_url": "https://api.github.com/users/zhe-he/repos",
        "events_url": "https://api.github.com/users/zhe-he/events{/privacy}",
        "received_events_url": "https://api.github.com/users/zhe-he/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2017-03-01T02:29:46Z",
      "updated_at": "2017-03-01T02:29:46Z",
      "body": "服务器添加一个返回头就可以了。\r\nclose  提问的人就可以close"
    }
  ],
  "created_at": "2017-01-20T06:00:43Z",
  "updated_at": "2017-03-01T02:29:46Z",
  "closed_at": null,
  "body": "```\r\nstream.fetch({\r\n          method: 'GET',\r\n          url: 'http://liuguangli.mock.uctest.local/weex/goodsList',\r\n          type: 'json',\r\n          body: body\r\n        }, function (res) {\r\n           if ( res.ok ) {\r\n             callback(res.data.data);\r\n           }\r\n        });\r\n```\r\n使用这个模块获取数据，在浏览器上面预览的时候会出现跨域错误\r\n![image](https://cloud.githubusercontent.com/assets/13861291/22137850/7e0851f2-df18-11e6-8ab6-b3776ea3a028.png)\r\n但是在weex playground下预览却没有问题，是在浏览器下需要特殊处理吗？",
  "closed_by": null
}
